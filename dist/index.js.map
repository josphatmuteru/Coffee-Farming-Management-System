{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-a17c7e6b35707cf0.js","public/js/index.js","public/js/activityInstructions.js","public/js/crudOperations.js","public/js/alert.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","public/js/pestManagement.js","public/js/authentication.js","public/js/dashboard.js","public/js/expenseAndYieldInputHandler.js","public/js/farmProfile.js","public/js/fertilizerApplicationGuide.js","public/js/finances.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"c95beb5e32d2b64b\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  try {\n    ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n  } catch (err) {\n    if (err.message) {\n      console.error(err.message);\n    }\n    ws = {};\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error(' [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  ws.onerror = function (e) {\n    if (e.message) {\n      console.error(e.message);\n    }\n  };\n  ws.onclose = function () {\n    console.warn('[parcel]  Connection to the HMR server was lost');\n  };\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel]  Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n           ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div> ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div> <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","const signupForm = document.querySelector(\".authentication--signup\");\r\nconst loginForm = document.querySelector(\".authentication--login\");\r\nconst dashboard = document.querySelector(\".main--dashboard\");\r\nconst financesPage = document.querySelector(\".main--finances\");\r\nconst farmProfilePage = document.querySelector(\".main--farm-profile\");\r\nconst logoutBtns = document.querySelectorAll(\".btn-logout\");\r\n\r\nconst fertilizerApplicationGuide = document.querySelector(\r\n  \".main--fertilizer-application\"\r\n);\r\nconst pestManagementGuidePage = document.querySelector(\r\n  \".main--pest-management\"\r\n);\r\nconst activityInstructionsPage = document.querySelector(\r\n  \".main--activity-instructions\"\r\n);\r\n\r\nimport { handleActivityInstructions } from \"./activityInstructions.js\";\r\nimport { handleSignup, handleLogin, handleLogout } from \"./authentication.js\";\r\nimport { HandleDashboardFunctions } from \"./dashboard.js\";\r\nimport { handleExpenseAndYieldInput } from \"./expenseAndYieldInputHandler.js\";\r\nimport { handleFarmProfilePage } from \"./farmProfile.js\";\r\nimport { handleFertilizerApplicationGuidePage } from \"./fertilizerApplicationGuide.js\";\r\nimport { handleFinancesPage } from \"./finances.js\";\r\nimport { handlePestManagementPage } from \"./pestManagement.js\";\r\n\r\nif (signupForm) {\r\n  handleSignup(signupForm);\r\n}\r\n\r\nif (loginForm) {\r\n  handleLogin(loginForm);\r\n}\r\n\r\nif (dashboard) {\r\n  // handleExpenseAndYieldInput();\r\n  HandleDashboardFunctions();\r\n}\r\n\r\nif (financesPage) {\r\n  handleFinancesPage();\r\n}\r\n\r\nif (pestManagementGuidePage) {\r\n  handlePestManagementPage();\r\n}\r\n\r\nif (fertilizerApplicationGuide) {\r\n  handleFertilizerApplicationGuidePage();\r\n}\r\n\r\nif (activityInstructionsPage) {\r\n  handleActivityInstructions();\r\n}\r\n\r\nif (farmProfilePage) {\r\n  handleFarmProfilePage();\r\n}\r\n\r\nif (logoutBtns) {\r\n  logoutBtns.forEach((btn) => {\r\n    handleLogout(btn);\r\n  });\r\n}\r\n","import { get } from \"./crudOperations.js\";\r\nimport { toggleLoading } from \"./pestManagement.js\";\r\n\r\nexport async function handleActivityInstructions() {\r\n  const currentUrl = window.location.href;\r\n\r\n  const activityName = currentUrl.split(\"farm-guide/\")[1];\r\n\r\n  const goBackToFarmGuideMenuBtn = document.querySelector(\r\n    \".btn-open-farm-guide-menu\"\r\n  );\r\n\r\n  goBackToFarmGuideMenuBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    window.location.replace(\"/farm-guide\");\r\n  });\r\n\r\n  console.log(activityName);\r\n\r\n  let isLoading = true;\r\n\r\n  const pageElements = [\r\n    \".section-instructions--images\",\r\n    \".section-instructions--text\",\r\n  ];\r\n\r\n  toggleLoading(isLoading, pageElements);\r\n\r\n  get({ url: `farmGuide/${activityName}` }).then((result) => {\r\n    if (result.status === \"success\") {\r\n      const activityDetails = result.data[0];\r\n      isLoading = false;\r\n\r\n      renderActivityInstructionDetails(activityDetails);\r\n      toggleLoading(isLoading, pageElements);\r\n    }\r\n  });\r\n\r\n  function renderActivityInstructionDetails(activityDetails) {\r\n    const {\r\n      activity_name: activityName,\r\n      required_tools: requiredTools,\r\n      activity_procedure: activityProcedure,\r\n      procedure_images: procedureImages,\r\n    } = activityDetails;\r\n    console.log(activityDetails.activity_procedure);\r\n    const markup = `\r\n    <div class=\"row row-activity\">\r\n    <div class=\"flex flex-dc gap-md\">\r\n      <div class=\"flex flex-dc gap-sm\">\r\n        <p class=\"instruction_detail\">\r\n          <span>Activity</span>\r\n          <span>${activityName}</span>\r\n        </p>\r\n        <p class=\"instruction_detail\">\r\n          <span>Purpose</span>\r\n          <span\r\n            >Lorem ipsum dolor sit amet consectetur adipisicing\r\n            elit.</span\r\n          >\r\n        </p>\r\n        <p class=\"instruction_detail\">\r\n          <span>Tools</span> <span>${requiredTools}</span>\r\n        </p>\r\n      </div>\r\n      <div\r\n        class=\"instruction_detail instruction_detail-procedure flex flex-dc gap-sm\"\r\n      >\r\n        <h4>Procedure</h4>\r\n\r\n        <ul class=\"flex flex-dc gap-sm procedure_steps\">\r\n        ${activityProcedure\r\n          .map(\r\n            (step, index) => `\r\n        <li>\r\n        <div class='flex gap-sm' >\r\n        <span><strong>${index + 1}.</strong></span>\r\n        <p class=\"procedure_step\">\r\n         ${step}\r\n        </p>\r\n        </div>\r\n        </li>\r\n        `\r\n          )\r\n          .join(\"\")}\r\n\r\n        </ul>\r\n        <div class=\"section-instructions--images\">\r\n          <div class=\"row row-activity\">\r\n            <h3>Procedure Images</h3>\r\n            <ul class=\"list list-activity-images\">            \r\n            ${activityProcedure\r\n              .map(\r\n                (image) => `\r\n                                  <li>\r\n                                    <figure class=\"procedure_step-img\">\r\n                                      <img\r\n                                        src=\"/src/fertilizer-application-methods/ring-method.jpg\"\r\n                                        alt=\"\"\r\n                                      />\r\n                                      <figcaption>Step 1</figcaption>\r\n                                    </figure>\r\n                                  </li>\r\n                `\r\n              )\r\n              .join(\"\")}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n    `;\r\n\r\n    document.querySelector(\".section-instructions--text\").innerHTML = \"\";\r\n    document\r\n      .querySelector(\".section-instructions--text\")\r\n      .insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n}\r\n","import { showAlert } from \"./alert.js\";\r\n\r\nexport async function post(req) {\r\n  const data = JSON.stringify(req.data);\r\n  console.log(data);\r\n  try {\r\n    showAlert(\"loading\", req.loadingMessage);\r\n    const res = await fetch(`/api/v1/${req.url}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: data,\r\n    });\r\n    const result = await res.json();\r\n\r\n    if (result.status === \"success\") {\r\n      showAlert(\"success\", req.successMessage);\r\n      return result;\r\n    } else {\r\n      showAlert(\"error\", result.message);\r\n      return result;\r\n    }\r\n  } catch (err) {\r\n    console.log(\"err\", err);\r\n  }\r\n}\r\n\r\nexport async function get(req) {\r\n  console.log(req);\r\n  try {\r\n    const res = await fetch(`/api/v1/${req.url}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const result = await res.json();\r\n    if (result.status === \"success\") {\r\n      return result;\r\n    } else {\r\n      return {};\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\nexport async function sendDelete(req) {\r\n  try {\r\n    // showAlert(\"loading\", req.loadingMessage);\r\n    const res = await fetch(`/api/v1/${req.url}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const result = await res.json();\r\n    return result;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n","const hideAlert = () => {\r\n  const el = document.querySelector(\".status-box\");\r\n\r\n  if (el) {\r\n    el.parentElement.removeChild(el);\r\n  }\r\n};\r\n\r\nexport const showAlert = (type, message) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"status-box status-box--${type}\">    \r\n  <ion-icon class='icon-success'  name=\"checkmark-circle-outline\"></ion-icon>\r\n  <ion-icon  class='icon-error' name=\"close-circle-outline\"></ion-icon>\r\n  <ion-icon  class='icon-warning'  name=\"alert-circle-outline\"></ion-icon>\r\n  <svg stroke=\"currentColor\" class='icon-loading'  fill=\"#20377d\" stroke-width=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 22c5.421 0 10-4.579 10-10h-2c0 4.337-3.663 8-8 8s-8-3.663-8-8c0-4.336 3.663-8 8-8V2C6.579 2 2 6.58 2 12c0 5.421 4.579 10 10 10z\"></path></svg>\r\n  <span>\r\n  ${message}\r\n  </span> \r\n  </div>\r\n\r\n`;\r\n\r\n  document\r\n    .querySelector(\".app-layout\")\r\n    .insertAdjacentHTML(\"afterbegin\", markup);\r\n\r\n  if (type !== \"loading\") {\r\n    window.setTimeout(hideAlert, 5000);\r\n  }\r\n};\r\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import { get } from \"./crudOperations.js\";\r\n\r\nexport async function handlePestManagementPage() {\r\n  let isLoading = true;\r\n\r\n  const pageElements = [\".row-probable-pests\", \".row-other-pests\"];\r\n  toggleLoading(isLoading, pageElements);\r\n\r\n  const pestListsContainer = document.querySelector(\".container--pest-lists\");\r\n  const pestDetailsContainer = document.querySelector(\r\n    \".container--pest-details\"\r\n  );\r\n\r\n  const goBackToFarmGuideMenuBtn = document.querySelector(\r\n    \".btn-open-farm-guide-menu\"\r\n  );\r\n\r\n  goBackToFarmGuideMenuBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    window.location.replace(\"/farm-guide\");\r\n  });\r\n\r\n  const goBackToPestListsBtn = document.querySelector(\".btn-open-pest-lists\");\r\n\r\n  goBackToPestListsBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    goBackToPestLists();\r\n  });\r\n\r\n  function goBackToPestLists() {\r\n    pestDetailsContainer.classList.add(\"hidden\");\r\n    pestListsContainer.classList.remove(\"hidden\");\r\n  }\r\n\r\n  get({ url: \"farmGuide/pest-management\" }).then((result) => {\r\n    if (result.status === \"success\") {\r\n      const pests = result.data;\r\n      isLoading = false;\r\n      toggleLoading(isLoading, [\".row-other-pests\"]);\r\n      console.log(pests);\r\n\r\n      renderOtherPestsList(pests);\r\n    }\r\n  });\r\n\r\n  function renderPestListItem(pest) {\r\n    const {\r\n      pest_id: pestId,\r\n      pest_name: pestName,\r\n      pest_symptoms: symptoms,\r\n      required_tools: tools,\r\n      required_pesticide: pesticide,\r\n      pesticide_application_procedure: pesticideApplicationProcedure,\r\n    } = pest;\r\n\r\n    const markup = ` \r\n      <li class=\"pest\">\r\n      <div class=\"pest_img-box\">\r\n        <img\r\n          src=\"../src/Coffee-diseases/coffee-berry-disease-1.jpg\"\r\n          alt=\"\"\r\n          class=\"pest_image\"\r\n        />\r\n      </div>\r\n      <span class=\"pest_name\">${pestName}</span>\r\n      <button class=\"btn btn-primary btn-medium btn-open-more-details\" id=${pestId}>\r\n        See more details\r\n      </button>\r\n      </li>\r\n\r\n      \r\n`;\r\n\r\n    return markup;\r\n  }\r\n\r\n  function renderOtherPestsList(otherPestsList) {\r\n    let otherPestsListItemsMarkup = `${otherPestsList\r\n      .map((pest) => renderPestListItem(pest))\r\n      .join(\"\")}`;\r\n\r\n    document.querySelector(\".list-other-pests\").innerHTML = \"\";\r\n    document\r\n      .querySelector(\".list-other-pests\")\r\n      .insertAdjacentHTML(\"afterbegin\", otherPestsListItemsMarkup);\r\n\r\n    handlePestLists(otherPestsList);\r\n  }\r\n\r\n  function handlePestLists(pestList) {\r\n    const openPestDetailsBtns = document.querySelectorAll(\r\n      \".btn-open-more-details\"\r\n    );\r\n\r\n    console.log(openPestDetailsBtns);\r\n\r\n    openPestDetailsBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        pestListsContainer.classList.add(\"hidden\");\r\n        pestDetailsContainer.classList.remove(\"hidden\");\r\n\r\n        console.log(\"helllooo\");\r\n\r\n        const selectedPestId = btn.getAttribute(\"id\") * 1;\r\n        const pestToShow = pestList.find(\r\n          (pest) => pest.pest_id === selectedPestId\r\n        );\r\n\r\n        renderMorePestDetails(pestToShow);\r\n      });\r\n    });\r\n  }\r\n\r\n  function renderMorePestDetails(pest) {\r\n    const {\r\n      pest_id: pestId,\r\n      pest_name: pestName,\r\n      pest_symptoms: symptoms,\r\n      pest_symptoms_images: symptomsImages,\r\n      required_tools: requiredTools,\r\n      required_pesticide: requiredPesticide,\r\n      pesticide_application_procedure: pesticideApplicationProcedure,\r\n    } = pest;\r\n\r\n    const pestDetailsMarkup = `\r\n    <div class=\"row flex flex-dc\">\r\n    <div class=\"flex flex-dc gap-md\">\r\n      <div class=\"flex flex-dc gap-sm\">\r\n        <p class=\"pest_detail\">\r\n          <span>Pest Name</span>\r\n          <span>${pestName}</span>\r\n        </p>\r\n        <div class=\"pest_detail pest_detail-symptoms flex flex-dc gap-sm\">\r\n          <h4>Symptoms</h4>\r\n          <ul class=\"flex flex-dc gap-sm pest_symptoms\">\r\n               ${symptoms\r\n                 .map(\r\n                   (symptom) => `<li>\r\n                                  <p class=\"pest_symptom\">\r\n                                  ${symptom}\r\n                                  </p>\r\n                                </li>`\r\n                 )\r\n                 .join(\"\")}\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <div class=\"pest_detail flex-dc flex gap-sm section-symptoms--images\">\r\n            <h4>Symptom Images</h4>\r\n            <ul class=\"list list-activity-images list-symptoms-images\">\r\n                  ${symptoms\r\n                    .map(\r\n                      (image) => `\r\n                                        <li>\r\n                                          <figure class=\"procedure_step-img\">\r\n                                            <img\r\n                                              src=\"/src/fertilizer-application-methods/ring-method.jpg\"\r\n                                              alt=\"\"\r\n                                            />\r\n                                            <figcaption>Step 1</figcaption>\r\n                                          </figure>\r\n                                        </li>\r\n                      `\r\n                    )\r\n                    .join(\"\")}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n    \r\n    `;\r\n\r\n    const pestControlDetailsMarkup = `\r\n    <div class=\"flex flex-dc gap-md\">\r\n    <div class=\"flex flex-dc gap-sm\">\r\n      <p class=\"instruction_detail\">\r\n        <span>Required Pesticide</span>\r\n        <span\r\n          >${requiredPesticide}</span\r\n        >\r\n      </p>\r\n      <p class=\"instruction_detail\">\r\n      <span>Required Tools</span>\r\n        <span>${requiredTools}</span>\r\n      </p>\r\n    </div>\r\n    <div\r\n      class=\"instruction_detail instruction_detail-procedure flex flex-dc gap-sm\"\r\n    >\r\n      <h4>Procedure</h4>\r\n\r\n      <ul class=\"flex flex-dc gap-sm procedure_steps\">\r\n      ${pesticideApplicationProcedure\r\n        .map(\r\n          (step, index) => `\r\n          <li>\r\n          <p class=\"procedure_step\">\r\n        <strong>Step ${index + 1}: </strong>${step}\r\n        </p>\r\n        </li>\r\n          `\r\n        )\r\n        .join(\"\")}\r\n      </ul>\r\n      <div class=\"section-instructions--images\">\r\n        <div class=\"row row-activity\">\r\n          <h3>Procedure Images</h3>\r\n          <ul class=\"list list-activity-images\">\r\n          ${symptoms\r\n            .map(\r\n              (image) => `\r\n                                <li>\r\n                                  <figure class=\"procedure_step-img\">\r\n                                    <img\r\n                                      src=\"/src/fertilizer-application-methods/ring-method.jpg\"\r\n                                      alt=\"\"\r\n                                    />\r\n                                    <figcaption>Step 1</figcaption>\r\n                                  </figure>\r\n                                </li>\r\n              `\r\n            )\r\n            .join(\"\")}\r\n            \r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n`;\r\n\r\n    document.querySelector(\".section-details--text\").innerHTML = \"\";\r\n    document.querySelector(\".pest-control--instructions\").innerHTML = \"\";\r\n\r\n    document\r\n      .querySelector(\".section-details--text\")\r\n      .insertAdjacentHTML(\"afterbegin\", pestDetailsMarkup);\r\n\r\n    document\r\n      .querySelector(\".pest-control--instructions\")\r\n      .insertAdjacentHTML(\"afterbegin\", pestControlDetailsMarkup);\r\n  }\r\n}\r\n\r\nexport function toggleLoading(isLoading, elements) {\r\n  if (isLoading) {\r\n    elements.forEach((el) => {\r\n      document.querySelectorAll(el).forEach((el) => {\r\n        el.classList.add(\"loading\");\r\n        el.querySelectorAll(\"button\").forEach((btn) => (btn.disabled = true));\r\n        el.querySelectorAll(\"input\").forEach(\r\n          (input) => (input.disabled = true)\r\n        );\r\n      });\r\n    });\r\n  } else {\r\n    elements.forEach((el) => {\r\n      document.querySelectorAll(el).forEach((el) => {\r\n        el.classList.remove(\"loading\");\r\n        el.querySelectorAll(\"button\").forEach((btn) =>\r\n          btn.removeAttribute(\"disabled\")\r\n        );\r\n        el.querySelectorAll(\"input\").forEach((input) =>\r\n          input.removeAttribute(\"disabled\")\r\n        );\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { showAlert } from \"./alert.js\";\r\nimport { post } from \"./crudOperations.js\";\r\n\r\nasync function signup(data) {\r\n  try {\r\n    showAlert(\"loading\", \"Creating account ...\");\r\n    const response = await fetch(\"/api/v1/authentication/signup\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    const result = await response.json();\r\n    console.log(result);\r\n    if (result.status !== \"success\") {\r\n      showAlert(\"error\", result.message);\r\n    } else {\r\n      showAlert(\"success\", \"Account created successfully\");\r\n      window.location.assign(\"/\");\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", \"Something went wrong\");\r\n    console.error(\"Error:\", error);\r\n  }\r\n}\r\nasync function login(data) {\r\n  try {\r\n    showAlert(\"loading\", \"Logging in...\");\r\n    const response = await fetch(\"/api/v1/authentication/login\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    console.log(result);\r\n    if (result.status !== \"success\") {\r\n      showAlert(\"error\", result.message);\r\n    } else {\r\n      showAlert(\"success\", \"Login successful\");\r\n      window.location.assign(\"/\");\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", \"Something went wrong\");\r\n    console.error(\"Error:\", error);\r\n  }\r\n}\r\nasync function logout(data) {\r\n  try {\r\n    showAlert(\"loading\", \"Logging out...\");\r\n    const response = await fetch(\"/api/v1/authentication/logout\", {\r\n      method: \"POST\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    console.log(result);\r\n    if (result.status !== \"success\") {\r\n      showAlert(\"error\", result.message);\r\n    } else {\r\n      window.location.assign(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", \"Something went wrong\");\r\n    console.error(\"Error:\", error);\r\n  }\r\n}\r\n\r\nexport function handleSignup(signupForm) {\r\n  signupForm.addEventListener(\"submit\", function (e) {\r\n    e.preventDefault();\r\n    const name = document.getElementById(\"name\").value;\r\n    const email = document.getElementById(\"email\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n    const passwordConfirm = document.getElementById(\"passwordConfirm\").value;\r\n\r\n    const data = { email, password };\r\n\r\n    signup(data);\r\n  });\r\n}\r\n\r\nexport function handleLogin(loginForm) {\r\n  const isRedirectFromAuthentication = loginForm.getAttribute(\r\n    \"data-isRedirectFromAuthentication\"\r\n  );\r\n  if (isRedirectFromAuthentication === \"true\") {\r\n    showAlert(\"warning\", \"You are not logged in. Login to continue\");\r\n  }\r\n\r\n  loginForm.addEventListener(\"submit\", function (e) {\r\n    e.preventDefault();\r\n\r\n    const email = document.getElementById(\"email\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n    const data = { email, password };\r\n\r\n    login(data);\r\n  });\r\n}\r\nexport async function handleLogout(logoutBtn) {\r\n  logoutBtn.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n    logout();\r\n  });\r\n}\r\n","import { showAlert } from \"./alert.js\";\r\nimport { get, post, sendDelete } from \"./crudOperations.js\";\r\n\r\nexport async function HandleDashboardFunctions() {\r\n  const expenseDialog = document.getElementById(\"dialog--expenses\");\r\n  const scheduleDialog = document.getElementById(\"dialog--schedule\");\r\n  const openDialogBtns = document.querySelectorAll(\".btn-open-dialog\");\r\n\r\n  const showFarmInputBtns = document.querySelectorAll(\".btn-show-farmInput\");\r\n  const closeDialogBtns = document.querySelectorAll(\".btn-close-modal\");\r\n\r\n  function closeDialog(el) {\r\n    el.closest(\"dialog\").close();\r\n    window.location.reload();\r\n  }\r\n\r\n  closeDialogBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      closeDialog(btn);\r\n    });\r\n  });\r\n\r\n  // let openExpenseDialogAndFormBtns = document.querySelectorAll(\r\n  //   \".btn-open-expense-dialog-and-form\"\r\n  // );\r\n  const openScheduleDialogAndFormBtns = document.querySelectorAll(\r\n    \".btn-open-schedule-dialog-and-form\"\r\n  );\r\n  const openExpenseFormBtns = document.querySelectorAll(\r\n    \".btn-open-expense-form\"\r\n  );\r\n\r\n  const openActivityFormBtns = document.querySelectorAll(\r\n    \".btn-open-activity-form\"\r\n  );\r\n\r\n  function convertSnakeCaseToCamelCase(word) {\r\n    return word.replace(/_([a-z])/g, function (match, letter) {\r\n      return letter.toUpperCase();\r\n    });\r\n  }\r\n  function convertCamelCaseToSnakeCase(word) {\r\n    return word.replace(/[A-Z]/g, function (match) {\r\n      return \"_\" + match.toLowerCase();\r\n    });\r\n  }\r\n\r\n  function renameObjectKeys(oldObject, namingConvention) {\r\n    const newObject = {};\r\n    if (Object.keys(oldObject).length > 0) {\r\n      for (const key in oldObject) {\r\n        let newKey;\r\n        if (namingConvention === \"camelCase\") {\r\n          newKey = convertSnakeCaseToCamelCase(key);\r\n        }\r\n        if (namingConvention === \"snakeCase\") {\r\n          newKey = convertCamelCaseToSnakeCase(key);\r\n        }\r\n\r\n        newObject[newKey] = oldObject[key];\r\n      }\r\n    }\r\n    return newObject;\r\n  }\r\n\r\n  const fetchScheduleActivities = async () => {\r\n    const req = {\r\n      url: \"activities/\",\r\n    };\r\n\r\n    const scheduleActivities = await get(req).then((result) => result.data);\r\n    return scheduleActivities;\r\n  };\r\n\r\n  const scheduleActivities = await fetchScheduleActivities();\r\n\r\n  const thisMonthsRecommendedActivities = await get({\r\n    url: \"activities/recommended-this-month\",\r\n  }).then((result) => result.data);\r\n\r\n  thisMonthsRecommendedActivities.forEach((activity) => {\r\n    const listItemMarkup = createRecommendedActivitiesListItemMarkup(activity);\r\n    document\r\n      .querySelector(\".recommended-activities\")\r\n      .insertAdjacentHTML(\"afterbegin\", listItemMarkup);\r\n\r\n    handleRecommendedActivities();\r\n  });\r\n\r\n  function renderScheduleActivities() {\r\n    scheduleActivities.forEach((activity) => {\r\n      const listItemMarkup = createScheduleListItemMarkup(\r\n        activity.activity_details,\r\n        activity.activity_id\r\n      );\r\n\r\n      document\r\n        .querySelector(\".schedule_activities-list\")\r\n        .insertAdjacentHTML(\"afterbegin\", listItemMarkup);\r\n    });\r\n\r\n    handleScheduleActivities();\r\n  }\r\n\r\n  renderScheduleActivities();\r\n\r\n  const fetchFarmInputs = async () => {\r\n    const req = {\r\n      url: \"farmInputs/\",\r\n    };\r\n\r\n    const farmInputs = await get(req).then((result) => result.data);\r\n\r\n    let farmInputsWithRenamedDetails = [];\r\n\r\n    console.log(farmInputs);\r\n    if (farmInputs.length > 1) {\r\n      farmInputsWithRenamedDetails = farmInputs.map((farmInput) => {\r\n        return renameObjectKeys(farmInput, \"camelCase\");\r\n      });\r\n    }\r\n\r\n    console.log(farmInputsWithRenamedDetails);\r\n    const availableFarmInputs = Object.groupBy(\r\n      farmInputsWithRenamedDetails,\r\n      ({ farmInputType }) => farmInputType\r\n    );\r\n\r\n    return availableFarmInputs;\r\n  };\r\n\r\n  const expenseForms = {\r\n    labour: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      {\r\n        id: \"numberOfLaborers\",\r\n        label: \"Number of Laborers\",\r\n        type: \"number\",\r\n      },\r\n      { id: \"payRate\", label: \"Pay Rate\", type: \"number\" },\r\n      {\r\n        id: \"hoursWorked\",\r\n        label: \"Hours worked\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    pesticide: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      {\r\n        id: \"costPerUnit\",\r\n        label: \"Cost per unit\",\r\n        type: \"number\",\r\n      },\r\n      {\r\n        id: \"quantity\",\r\n        label: \"Quantity purchased\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    fertilizer: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      {\r\n        id: \"costPerUnit\",\r\n        label: \"Cost per unit\",\r\n        type: \"number\",\r\n      },\r\n      {\r\n        id: \"quantity\",\r\n        label: \"Quantity purchased\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    miscelleneous: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n      },\r\n      {\r\n        id: \"cost\",\r\n        label: \"Cost\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  const activityFormDefaultFields = [\r\n    { id: \"activityDate\", label: \"Date\", type: \"date\" },\r\n    { id: \"activityTime\", label: \"Time to start\", type: \"time\" },\r\n    {\r\n      id: \"hoursRequired\",\r\n      label: \"Hours required\",\r\n      type: \"number\",\r\n    },\r\n\r\n    {\r\n      id: \"subForm\",\r\n      heading: \"Labour\",\r\n      optionButtons: [\r\n        { label: \"Do it yourself\", unHides: null },\r\n        {\r\n          label: \"Hire labourers\",\r\n          unHides: [\"numberOfLaborers\", \"payRate\"],\r\n        },\r\n      ],\r\n      fields: [\r\n        {\r\n          id: \"numberOfLaborers\",\r\n          label: \"Number of Laborers\",\r\n          type: \"number\",\r\n        },\r\n        { id: \"payRate\", label: \"Pay Rate\", type: \"number\" },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const activityForms = {\r\n    picking: [\r\n      { id: \"activityDate\", label: \"Date\", type: \"date\" },\r\n      { id: \"activityTime\", label: \"Time to start\", type: \"time\" },\r\n      {\r\n        id: \"numberOfLaborers\",\r\n        label: \"Number of Laborers\",\r\n        type: \"number\",\r\n      },\r\n      { id: \"payRate\", label: \"Pay Rate\", type: \"number\" },\r\n      {\r\n        id: \"hoursRequired\",\r\n        label: \"Hours required\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    pruning: [\r\n      { id: \"activityDate\", label: \"Date\", type: \"date\" },\r\n      { id: \"activityTime\", label: \"Time to start\", type: \"time\" },\r\n      {\r\n        id: \"numberOfLaborers\",\r\n        label: \"Number of Laborers\",\r\n        type: \"number\",\r\n      },\r\n      { id: \"payRate\", label: \"Pay Rate\", type: \"number\" },\r\n      {\r\n        id: \"hoursRequired\",\r\n        label: \"Hours required\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    pesticideApplication: [\r\n      {\r\n        id: \"pesticide\",\r\n        label: \"Pesticide\",\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      { id: \"quantity\", label: \"Quantity\", type: \"number\" },\r\n\r\n      {\r\n        id: \"numberOfLaborers\",\r\n        label: \"Number of Laborers\",\r\n        type: \"number\",\r\n      },\r\n      { id: \"payRate\", label: \"Pay Rate\", type: \"number\" },\r\n      {\r\n        id: \"hoursRequired\",\r\n        label: \"Hours Required\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    fertilizerApplication: [\r\n      {\r\n        id: \"subForm\",\r\n        heading: \"fertilizer\",\r\n        optionButtons: [\r\n          \"Choose from available Pesticides\",\r\n          \"Buy different type\",\r\n        ],\r\n        fields: [\r\n          {\r\n            id: \"fertilizer\",\r\n            label: \"Fertilizer\",\r\n            type: \"select\",\r\n            options: [\r\n              \"Picking\",\r\n              \"Fertilizer Application\",\r\n              \"Pesticide Application\",\r\n              \"Pruning\",\r\n            ],\r\n          },\r\n          {\r\n            id: \"requiredQuantity\",\r\n            label: \"Fertilizer quantity required\",\r\n            type: \"number\",\r\n          },\r\n\r\n          {\r\n            id: \"quantityToPurchase\",\r\n            label: \"Fertilizer quantity to purchase\",\r\n            type: \"number\",\r\n          },\r\n          {\r\n            id: \"purchaseCost\",\r\n            label: \"Fertilizer purchase cost\",\r\n            type: \"number\",\r\n          },\r\n        ],\r\n      },\r\n\r\n      {\r\n        id: \"hoursRequired\",\r\n        label: \"Hours required\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  const availableFarmInputs = await fetchFarmInputs();\r\n\r\n  function convertKeyNamesfromSnakeToCamelCase(oldObject) {\r\n    const newObject = {};\r\n    if (Object.keys(oldObject).length > 0) {\r\n      for (const key in oldObject) {\r\n        const newKey = convertSnakeCaseToCamelCase(key);\r\n        newObject[newKey] = oldObject[key];\r\n      }\r\n    }\r\n    return newObject;\r\n  }\r\n\r\n  console.log(\"item\", availableFarmInputs);\r\n\r\n  if (Object.keys(availableFarmInputs).length > 0) {\r\n  }\r\n\r\n  // console.log(convertCamelCaseToSnakeCase(\"helloThere\"));\r\n  console.log(availableFarmInputs);\r\n\r\n  const availableFarmInputss = {\r\n    pesticide: [\r\n      {\r\n        description: \"some pesticide\",\r\n        quantity: 5,\r\n        measurementUnit: \"Litres\",\r\n\r\n        id: 2,\r\n      },\r\n      {\r\n        description: \"Another pesticide\",\r\n        quantity: 5,\r\n        measurementUnit: \"Litres\",\r\n\r\n        id: 2,\r\n      },\r\n    ],\r\n\r\n    fertilizer: [\r\n      {\r\n        description: \"CAN\",\r\n        quantity: 5,\r\n        measurementUnit: \"Litres\",\r\n\r\n        id: 2,\r\n      },\r\n      {\r\n        description: \"Manure\",\r\n        measurementUnit: \"Kilograms\",\r\n\r\n        quantity: 5,\r\n        id: 2,\r\n      },\r\n    ],\r\n  };\r\n  function createFarmInputListItemsMarkup(farmInput) {\r\n    const farmInputItems = availableFarmInputs[farmInput] ?? [];\r\n\r\n    let listItemsMarkup = ``;\r\n\r\n    farmInputItems.forEach((item) => {\r\n      listItemsMarkup += `\r\n                            <li class=\"row row--item\"\r\n                              data-item-details='${JSON.stringify({\r\n                                farmInputId: item.farmInputId,\r\n                                farmInputType: item.farmInputType,\r\n                                description: item.description,\r\n                                currentQuantity: item.quantity,\r\n                                measurementUnit: item.measurementUnit,\r\n                              })}'>\r\n                              <span>${item.description}</span>\r\n                              <span>${item.quantity} ${\r\n        item.measurementUnit === \"Litres\"\r\n          ? \"Ltr\"\r\n          : item.measurementUnit === \"Kilograms\"\r\n          ? \"Kg\"\r\n          : item.measurementUnit\r\n      }</span>\r\n                              <button\r\n                                class=\"btn btn-small btn-primary btn-icon btn-open-expense-dialog-and-form\"\r\n                                data-opens=${farmInput}\r\n                                data-item-='${item.farmInputId}'>\r\n                                <ion-icon name=\"add-outline\"></ion-icon>\r\n                                <span>Add More</span>\r\n                              </button>\r\n                              <button class=\"btn btn-icon-only btn-delete-farmInput\">\r\n                                <ion-icon name=\"trash-outline\"></ion-icon>\r\n                              </button>\r\n                            </li>\r\n`;\r\n    });\r\n    return listItemsMarkup;\r\n  }\r\n\r\n  function renderAvailableFarmInput(btn) {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      console.log(btn);\r\n      const farmInputToShow = btn.getAttribute(\"data-shows\");\r\n      const listItemsMarkup = createFarmInputListItemsMarkup(farmInputToShow);\r\n\r\n      const farmInputInvetoryListEl = document.querySelector(\r\n        \".farm-input-inventory\"\r\n      );\r\n\r\n      btn.classList.add(\"disabled\");\r\n\r\n      showFarmInputBtns.forEach((item) => {\r\n        if (btn !== item) {\r\n          item.classList.remove(\"disabled\");\r\n          item.disabled = false;\r\n        }\r\n      });\r\n      btn.disabled = true;\r\n      farmInputInvetoryListEl.innerHTML = \"\";\r\n      farmInputInvetoryListEl.insertAdjacentHTML(\"afterBegin\", listItemsMarkup);\r\n\r\n      const addDifferentFarmInputBtn =\r\n        farmInputInvetoryListEl.parentNode.parentNode.querySelector(\r\n          \".btn-add-different-farm-input\"\r\n        );\r\n      addDifferentFarmInputBtn.setAttribute(\"data-opens\", farmInputToShow);\r\n      addDifferentFarmInputBtn.querySelector(\r\n        \"span\"\r\n      ).textContent = `Add Different ${capitilizeFirstLetter(farmInputToShow)}`;\r\n\r\n      handleFarmInputInventory(btn);\r\n    });\r\n  }\r\n\r\n  function handleFarmInputInventory() {\r\n    const openExpenseDialogAndFormBtns = document.querySelectorAll(\r\n      \".btn-open-expense-dialog-and-form\"\r\n    );\r\n\r\n    const deleteFarmInputBtns = document.querySelectorAll(\r\n      \".btn-delete-farmInput\"\r\n    );\r\n\r\n    openExpenseDialogAndFormBtns.forEach((btn) => {\r\n      const farmInputToShow = btn.getAttribute(\"data-shows\");\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        const itemId = btn.getAttribute(\"data-item-id\") * 1;\r\n        const formToOpen = btn.getAttribute(\"data-opens\");\r\n\r\n        if (itemId) {\r\n          const itemDetails = btn\r\n            .closest(\"li\")\r\n            ?.getAttribute(\"data-item-details\");\r\n\r\n          const formValues = JSON.parse(itemDetails);\r\n\r\n          expenseDialog.showModal();\r\n\r\n          const isEditMode = true;\r\n          openForm(e, btn, \"expense\", formValues, isEditMode);\r\n        } else {\r\n          expenseDialog.showModal();\r\n          openForm(e, btn, \"expense\");\r\n        }\r\n      });\r\n    });\r\n\r\n    deleteFarmInputBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        const itemDetails = btn\r\n          .closest(\"li\")\r\n          ?.getAttribute(\"data-item-details\");\r\n        const farmInputData = JSON.parse(itemDetails);\r\n        const { farmInputId, description, farmInputType } = farmInputData;\r\n\r\n        const confirmDeleteModal = document.createElement(\"dialog\");\r\n        confirmDeleteModal.setAttribute(\r\n          \"id\",\r\n          \"dialog-confirm-delete-farmInput\"\r\n        );\r\n        confirmDeleteModal.classList.add(\"dialog\");\r\n\r\n        const confirmDeleteMarkup = `\r\n        <div class='flex'>\r\n          <button class='btn btn-icon-only btn-close-modal ml-auto'>\r\n            <ion-icon name=\"close-outline\"></ion-icon>\r\n          </button>\r\n        </div>\r\n        <form>\r\n        <h3>Discard ${capitilizeFirstLetter(farmInputType)}</h3>\r\n        <div class='flex flex-dc gap-md'>\r\n        <span class='intruction-text'>\r\n          Are you sure you want ot remove ${description} from the inventory?\r\n        </span>\r\n        <div class=\"flex gap-md ml-auto\">\r\n          <button type='button' class=\"btn btn-medium btn-secondary btn-close-modal\">Cancel</button>\r\n          <button type='button' class=\"btn btn-medium btn-danger btn-confirm-delete\">Delete</button>\r\n        </div>\r\n        </div>\r\n        </form>\r\n`;\r\n        confirmDeleteModal.innerHTML = confirmDeleteMarkup;\r\n\r\n        btn.parentElement.insertAdjacentElement(\r\n          \"afterbegin\",\r\n          confirmDeleteModal\r\n        );\r\n        confirmDeleteModal.showModal();\r\n        confirmDeleteModal\r\n          .querySelectorAll(\".btn-close-modal\")\r\n          .forEach((btn) => {\r\n            btn.addEventListener(\"click\", (e) => {\r\n              e.preventDefault();\r\n              confirmDeleteModal.close();\r\n            });\r\n          });\r\n\r\n        confirmDeleteModal\r\n          .querySelector(\".btn-confirm-delete\")\r\n          .addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n\r\n            sendDelete({\r\n              url: `farmInputs/${farmInputId}`,\r\n              loadingMessage: `Removing ${description} from inventory...`,\r\n            }).then((result) => {\r\n              if (result.status === \"success\") {\r\n                confirmDeleteModal.close();\r\n                showAlert(\r\n                  \"success\",\r\n                  `${capitilizeFirstLetter(description)} removed successfully`\r\n                );\r\n              }\r\n            });\r\n          });\r\n        console.log(farmInputData);\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleRecommendedActivities() {\r\n    const openScheduleDialogAndFormBtns = document.querySelectorAll(\r\n      \".btn-open-schedule-dialog-and-form\"\r\n    );\r\n\r\n    openScheduleDialogAndFormBtns.forEach((btn) => {\r\n      console.log(btn);\r\n\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const formToOpen = btn.getAttribute(\"data-opens\");\r\n\r\n        const activityDetails = JSON.parse(\r\n          btn.closest(\"li\").getAttribute(\"data-activity-details\")\r\n        );\r\n\r\n        const farmInputType = formToOpen.includes(\"Application\")\r\n          ? formToOpen.split(\"Application\")[0]\r\n          : false;\r\n        const farmInput = activityDetails.required_farm_input;\r\n        const measurementUnit = activityDetails.farm_input_measurement_unit;\r\n\r\n        console.log(farmInput);\r\n        scheduleDialog.showModal();\r\n        // dialogContentEl.removeChild(selectExpenseForm);\r\n\r\n        if (farmInput && farmInputType) {\r\n          let formValues = {};\r\n          if (\r\n            availableFarmInputs[farmInputType].find(\r\n              (item) => item.description === farmInput\r\n            )\r\n          ) {\r\n            formValues = { [farmInputType]: farmInput, measurementUnit };\r\n          } else {\r\n            formValues = {\r\n              [`${farmInputType}ToPurchase`]: farmInput,\r\n              measurementUnit,\r\n            };\r\n          }\r\n          openForm(e, btn, \"activity\", formValues);\r\n        }\r\n\r\n        console.log(formToOpen);\r\n        openForm(e, btn, \"activity\");\r\n        // handleFormOpen();\r\n      });\r\n    });\r\n  }\r\n\r\n  showFarmInputBtns.forEach((btn) => {\r\n    renderAvailableFarmInput(btn);\r\n  });\r\n  showFarmInputBtns[0].removeAttribute(\"disabled\");\r\n  showFarmInputBtns[0].click();\r\n  console.log(\"btn\", showFarmInputBtns[0]);\r\n\r\n  function createMarkup2(formDetails, formHeading, formType) {\r\n    console.log(formDetails);\r\n\r\n    function createFormRow2(el) {\r\n      const label = `<label for=${el.id}>${el.label}</label>`;\r\n      let input;\r\n      if (el.type !== \"select\") {\r\n        input = `<input id=${el.id} class=\"input\" type=${el.type} required />`;\r\n      } else {\r\n        input = `<select id=${el.id} class=\"input\" required>\r\n                                <option value=\"\">--Choose from available ${el.id}s--</option>`;\r\n        el.options.forEach(\r\n          (option) => (input += `<option value=${option}>${option}</option>`)\r\n        );\r\n        input += `</select>`;\r\n      }\r\n\r\n      return `<div class=\"form-row form-row--horizontal\">${label}${input}</div>`;\r\n    }\r\n    const elements = activityFormFields.map((el) => {\r\n      if (el.id === \"subForm\") {\r\n        let markup = `<div class='subform'>\r\n                        <h3>${el.heading}</h3>`;\r\n        el.fields.forEach((field) => {\r\n          markup += createFormRow(field);\r\n        });\r\n        markup += `</div>`;\r\n        return markup;\r\n      } else {\r\n        return createFormRow(el);\r\n      }\r\n    });\r\n\r\n    console.log(elements);\r\n\r\n    return elements;\r\n  }\r\n\r\n  function handleScheduleActivities() {\r\n    const openActivityPopoverBtns = document.querySelectorAll(\r\n      \".btn-trigger-popover\"\r\n    );\r\n\r\n    const cancelActivityBtns = document.querySelectorAll(\r\n      \".btn-cancel-activity\"\r\n    );\r\n    const completeActivityBtns = document.querySelectorAll(\r\n      \".btn-complete-activity\"\r\n    );\r\n\r\n    openActivityPopoverBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const currentPopover = btn\r\n          .closest(\".schedule_activity-btns\")\r\n          .querySelector(\".popover\");\r\n\r\n        document.querySelectorAll(\".popover\").forEach((popover) => {\r\n          if (popover !== currentPopover) {\r\n            popover.classList.add(\"hidden\");\r\n          }\r\n        });\r\n        currentPopover.classList.toggle(\"hidden\");\r\n      });\r\n    });\r\n\r\n    completeActivityBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        const activityListItemEl = btn.closest(\"li\");\r\n        const activityId =\r\n          activityListItemEl.getAttribute(\"data-activity-id\") * 1;\r\n        const activity = scheduleActivities.find(\r\n          (activity) => activity.activity_id === activityId\r\n        );\r\n        btn.textContent = \"Updating activity...\";\r\n        post({\r\n          url: `activities/${activityId}`,\r\n          data: { activity_status: \"completed\" },\r\n          loadingMessage: \"Updating activity...\",\r\n          successMessage: \"Activity completed successfully\",\r\n        }).then((result) => {\r\n          if (result.status === \"success\") {\r\n            btn.textContent = \"Activity updated\";\r\n\r\n            activityListItemEl.parentNode.removeChild(activityListItemEl);\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    cancelActivityBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        const activityListItemEl = btn.closest(\"li\");\r\n        const activityId =\r\n          activityListItemEl.getAttribute(\"data-activity-id\") * 1;\r\n        const activity = scheduleActivities.find(\r\n          (activity) => activity.activity_id === activityId\r\n        );\r\n        btn.textContent = \"Cancelling activity...\";\r\n\r\n        const { farmInputName, farmInputType, requiredQuantity } =\r\n          activity.activity_details;\r\n\r\n        console.log(farmInputName, farmInputType, activity.activity_details);\r\n\r\n        if (farmInputName) {\r\n          const farmInput = availableFarmInputs[farmInputType].find(\r\n            (item) => item.description === farmInputName\r\n          );\r\n\r\n          const { farmInputId, quantity } = farmInput;\r\n\r\n          const newQuantity = quantity + requiredQuantity;\r\n\r\n          post({\r\n            url: `farmInputs/${farmInputId}`,\r\n            data: { farmInputData: { quantity: newQuantity } },\r\n            loadingMessage: `Updating ${farmInputName} quantity`,\r\n            successMessage: `${capitilizeFirstLetter(\r\n              farmInputName\r\n            )} quantity updated`,\r\n          }).then((result) => {\r\n            if (result.status === \"success\") {\r\n              sendDelete({ url: `expenses/labour/${activityId}` }).then(\r\n                (result) => {\r\n                  if (result.status === \"success\") {\r\n                    post({\r\n                      url: `activities/${activityId}`,\r\n                      data: { activity_status: \"cancelled\" },\r\n                      loadingMessage: \"Cancelling activity...\",\r\n                      successMessage: \"Activity cancelled successfully\",\r\n                    }).then((result) => {\r\n                      if (result.status === \"success\") {\r\n                        btn.textContent = \"Activity cancelled\";\r\n\r\n                        activityListItemEl.parentNode.removeChild(\r\n                          activityListItemEl\r\n                        );\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          sendDelete({ url: `expenses/labour/${activityId}` }).then(\r\n            (result) => {\r\n              if (result.status === \"success\") {\r\n                console.log(activityId);\r\n                post({\r\n                  url: `activities/${activityId}`,\r\n                  data: { activity_status: \"cancelled\" },\r\n                  loadingMessage: \"Cancelling activity...\",\r\n                  successMessage: \"Activity cancelled successfully\",\r\n                }).then((result) => {\r\n                  if (result.status === \"success\") {\r\n                    btn.textContent = \"Activity cancelled\";\r\n\r\n                    activityListItemEl.parentNode.removeChild(\r\n                      activityListItemEl\r\n                    );\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          );\r\n        }\r\n\r\n        console.log(activity);\r\n        // sendDelete({ url: `activities/${activityId}` }).then((result) => {\r\n        //   if (result.status === \"success\") {\r\n        //     btn.textContent = \"Activity cancelled\";\r\n\r\n        //     // activityListItemEl.parentNode.removeChild(activityListItemEl);\r\n        //   }\r\n        // });\r\n      });\r\n    });\r\n  }\r\n\r\n  function capitilizeFirstLetter(word) {\r\n    const capitilizedFirstLetterWord =\r\n      word.charAt(0).toUpperCase() + word.slice(1);\r\n    console.log(capitilizedFirstLetterWord);\r\n    return capitilizedFirstLetterWord;\r\n  }\r\n  function createMarkup(farmInput, formType, formHeading, isEditMode) {\r\n    function createExpenseFormDetails(formHeading, farmInput) {\r\n      let formDetails = [\r\n        {\r\n          id: \"transactionDate\",\r\n          label: \"Date of Purchase\",\r\n          type: \"date\",\r\n        },\r\n        {\r\n          id: \"description\",\r\n          label: `${\r\n            farmInput ? capitilizeFirstLetter(farmInput) : \"Description\"\r\n          }`,\r\n          type: \"text\",\r\n        },\r\n      ];\r\n\r\n      if (farmInput) {\r\n        const quantityPurchasedField = {\r\n          id: \"quantity\",\r\n          label: \"Quantity\",\r\n          type: \"number\",\r\n        };\r\n\r\n        formDetails = [\r\n          ...formDetails,\r\n          quantityPurchasedField,\r\n          {\r\n            id: \"measurementUnit\",\r\n            label: \"Measurement Unit\",\r\n            defaultOption: \"Choose measurement unit\",\r\n            type: \"select\",\r\n\r\n            options: [\"Litres\", \"Kilograms\"],\r\n          },\r\n        ];\r\n      }\r\n\r\n      formDetails = [\r\n        ...formDetails,\r\n        {\r\n          id: \"cost\",\r\n          label: \"Cost\",\r\n          type: \"number\",\r\n        },\r\n      ];\r\n      return formDetails;\r\n    }\r\n\r\n    function createActivityFormDetails(farmInput) {\r\n      let formDetails = [...activityFormDefaultFields];\r\n\r\n      if (farmInput) {\r\n        const farmInputRequiredQuantityField = {\r\n          id: \"requiredQuantity\",\r\n          label: `${capitilizeFirstLetter(farmInput.type)} quantity required`,\r\n          type: \"number\",\r\n        };\r\n\r\n        const farmInputSubForm = {\r\n          id: \"subForm\",\r\n          heading: capitilizeFirstLetter(farmInput.type),\r\n          optionButtons: [\r\n            {\r\n              label: `Choose from available ${farmInput.type}s `,\r\n              unHides: [farmInput.type, \"requiredQuantity\"],\r\n            },\r\n            {\r\n              label: \"Buy different type\",\r\n              unHides: [\r\n                `${farmInput.type}ToPurchase`,\r\n                \"quantityToPurchase\",\r\n                \"measurementUnit\",\r\n                \"requiredQuantity\",\r\n\r\n                \"purchaseCost\",\r\n              ],\r\n            },\r\n          ],\r\n          fields: [\r\n            {\r\n              id: farmInput.type,\r\n              label: farmInput.type,\r\n              defaultOption: `Choose from available ${farmInput.type}s`,\r\n\r\n              type: \"select\",\r\n              options: farmInput.availableOptions,\r\n            },\r\n\r\n            {\r\n              id: `${farmInput.type}ToPurchase`,\r\n              label: `${capitilizeFirstLetter(farmInput.type)}`,\r\n              type: \"text\",\r\n            },\r\n            farmInputRequiredQuantityField,\r\n\r\n            {\r\n              id: \"quantityToPurchase\",\r\n              label: `${capitilizeFirstLetter(\r\n                farmInput.type\r\n              )} quantity to purchase`,\r\n              type: \"number\",\r\n            },\r\n            {\r\n              id: \"measurementUnit\",\r\n              label: \"Measurement Unit\",\r\n              defaultOption: \"Choose measurement unit\",\r\n              type: \"select\",\r\n\r\n              options: [\"Litres\", \"Kilograms\"],\r\n            },\r\n            {\r\n              id: \"purchaseCost\",\r\n              label: `${capitilizeFirstLetter(farmInput.type)} purchase cost`,\r\n              type: \"number\",\r\n            },\r\n          ],\r\n        };\r\n\r\n        formDetails = [...formDetails, farmInputSubForm];\r\n      }\r\n      console.log(formDetails);\r\n      return formDetails;\r\n    }\r\n\r\n    function createFormRow(el, createHidden = false) {\r\n      const label = `<label for=${el.id}>${el.label}</label>`;\r\n      let input;\r\n      if (el.type !== \"select\") {\r\n        input = `<input name=${el.id} id=${el.id} class=\"input\" ${\r\n          createHidden ? \"disabled\" : \"\"\r\n        } type=${el.type} required />`;\r\n      } else {\r\n        input = `<select id=${el.id} class=\"input\" ${\r\n          createHidden ? \"disabled\" : \"\"\r\n        }   required>\r\n                                <option value=\"\">--${\r\n                                  el.defaultOption\r\n                                }--</option>`;\r\n        el.options.forEach((option) => {\r\n          console.log(option.replace(\" \", \"-\"));\r\n          return (input += `<option  value='${option}'>${option}</option>`);\r\n        });\r\n        input += `</select>`;\r\n      }\r\n\r\n      return createHidden\r\n        ? `<div class=\"form-row  form-row--horizontal hidden\">${label}${input}</div>`\r\n        : `<div class=\"form-row form-row--horizontal\">${label}${input}</div>`;\r\n    }\r\n\r\n    const formDetails =\r\n      formType === \"expense\"\r\n        ? createExpenseFormDetails(formHeading, farmInput)\r\n        : formType === \"activity\"\r\n        ? createActivityFormDetails(farmInput)\r\n        : false;\r\n\r\n    const elements = formDetails?.map((el) => {\r\n      if (el.id === \"subForm\") {\r\n        let subFromMarkup = `<div class='sub-form '>\r\n                        <div class=\"form-row form-row--horizontal sub-form_option-buttons-row\">\r\n                          <label class='sub-form_label'>${el.heading}</label>\r\n                          <div class='flex flex-dc gap-sm'>`;\r\n        el.optionButtons.forEach((button) => {\r\n          subFromMarkup += `<button  type='button' class='btn btn-medium btn-secondary btn-unHide-form-fields' data-unHides=${JSON.stringify(\r\n            button.unHides\r\n          )}>\r\n                              ${button.label}\r\n                              </button>\r\n\r\n                          `;\r\n        });\r\n        subFromMarkup += `</div>\r\n                          </div>`;\r\n        el.fields.forEach((field) => {\r\n          subFromMarkup += createFormRow(field, true);\r\n        });\r\n        subFromMarkup += `</div>`;\r\n        return subFromMarkup;\r\n      } else {\r\n        return createFormRow(el);\r\n      }\r\n    });\r\n\r\n    let markup = `\r\n                          <form class='form dialog_content--input dialog_content--input-${formType}-details 'data-isEditMode=${isEditMode}>\r\n                            ${\r\n                              formType === \"expense\"\r\n                                ? `<h2>Enter ${capitilizeFirstLetter(\r\n                                    formHeading\r\n                                  )} Expense Details</h2>\r\n                            <div class=\"form-row form-row--horizontal hidden\">\r\n                              <label for=\"expense\">Expense</label>\r\n                              <input id='expense' class=\"input input--expense \" disabled value=${formHeading} required type=\"text\" />\r\n                            </div>\r\n\r\n                            `\r\n                                : `<h2>Enter ${formHeading\r\n                                    .replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n                                    .split(\" \")\r\n                                    .map(\r\n                                      (word) =>\r\n                                        word.charAt(0).toUpperCase() +\r\n                                        word.slice(1)\r\n                                    )\r\n                                    .join(\",\")\r\n                                    .replace(\",\", \" \")} Activity Details</h2>\r\n                                    <div class=\"form-row form-row--horizontal hidden\">\r\n                                      <label for=\"activity\">Activity</label>\r\n                                      <input id='activity' class=\"input input--activity \"  disabled value=${formHeading} required type=\"text\" />\r\n                                    </div>\r\n\r\n                                    `\r\n                            }\r\n\r\n                          `;\r\n    elements.forEach((el) => (markup += el));\r\n\r\n    if (formType === \"expense\") {\r\n      markup += `\r\n                          <div class=\"form-row form-row--horizontal\">\r\n                              <label for=\"total\">Total</label>\r\n                              <input id='total' class=\"input\" type=\"number\" />\r\n                            </div>\r\n                         `;\r\n    }\r\n    markup += `\r\n\r\n                          <div class=\"btns-row\">\r\n                            <button class=\"btn btn-secondary btn-large open-select-expense-form\" type='button' >Back</button>\r\n                            <button class=\"btn btn-secondary btn-large btn-close-modal\"  type='button' >Cancel</button>\r\n                            <button class=\"btn btn-primary btn-large btn-open-confirm-expense-form\">${\r\n                              formType === \"expense\"\r\n                                ? \"Submit\"\r\n                                : \"Add to schedule\"\r\n                            }</button>\r\n                          </div>\r\n                          </form>`;\r\n\r\n    return markup;\r\n  }\r\n\r\n  const expenseDescriptionDetailValues = {\r\n    labour: {\r\n      activity: \"Fertilizer Application\",\r\n      laborers: 15,\r\n      payRate: 150,\r\n      hours: 10,\r\n      totalCost: 67500,\r\n    },\r\n    pesticidePurchase: {\r\n      pesticide: \"Fertilizer Application\",\r\n      measurementUnit: \"Litres\",\r\n\r\n      quantity: 15,\r\n      cost: 150,\r\n      totalCost: 6750,\r\n    },\r\n    fertilizerPurchase: {\r\n      fertilizer: \"Fertilizer Application\",\r\n      measurementUnit: \"Litres\",\r\n      quantity: 15,\r\n      cost: 150,\r\n      totalCost: 67500,\r\n    },\r\n  };\r\n\r\n  function formatCamelCaseToNormal(word) {\r\n    const formattedWord = word\r\n      .replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n      .split(\" \")\r\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\r\n      .join(\",\")\r\n      .replace(\",\", \" \");\r\n\r\n    return formattedWord;\r\n  }\r\n\r\n  function formatTimeToTwelveHourFormat(timeString) {\r\n    const hours = parseInt(timeString.split(\":\")[0]);\r\n    const minutes = timeString.split(\":\")[1];\r\n    console.log(hours - 12);\r\n\r\n    const time =\r\n      hours - 12 === -12\r\n        ? `12 : ${minutes} AM`\r\n        : hours - 12 > 0\r\n        ? `${hours - 12}:${minutes} PM`\r\n        : `${hours.toString().padStart(2, \"0\")}:${minutes} AM`;\r\n    return time;\r\n  }\r\n\r\n  function createRecommendedActivitiesListItemMarkup(activityData) {\r\n    const { activity, required_farm_input: farmInput } = activityData;\r\n    const activityName = capitilizeFirstLetter(\r\n      formatCamelCaseToNormal(activity)\r\n    );\r\n    const icon = activity.split(\"Application\")[0];\r\n\r\n    const markup = `\r\n    <li class=\"activity\" data-activity-details='${JSON.stringify(\r\n      activityData\r\n    )}'>\r\n      <span class=\"icon\"\r\n        ><img\r\n          class=\"image-icon-sm\"\r\n          src=\"../src/${icon}.png\"\r\n          alt=\"\"\r\n        />\r\n      </span>\r\n      <div class=\"activity_details flex flex-dc\">\r\n        <span>${activityName}</span>\r\n        <span> ${farmInput ? `- ${farmInput}` : \"\"}</span>\r\n      </div>\r\n\r\n      <button\r\n        class=\"btn btn-small btn-primary btn-open-schedule-dialog-and-form\"\r\n        data-opens=\"${activity}\"\r\n      >\r\n        Add to schedule\r\n      </button>\r\n  </li>\r\n    `;\r\n\r\n    return markup;\r\n  }\r\n\r\n  function createScheduleListItemMarkup(activityData, activityId) {\r\n    console.log(\"activityData\", activityData);\r\n    let {\r\n      activity,\r\n      activityTime,\r\n      activityDate,\r\n      farmInputName: farmInput,\r\n    } = activityData;\r\n    // const farmInput =\r\n    //   activityData.fertilizer ?? activityData.pesticide ?? false;\r\n    // const farmInput =\r\n    //   activityData.fertilizer ?? activityData.pesticide ?? false;\r\n\r\n    const icon = activity.split(\"Application\")[0];\r\n    activity = formatCamelCaseToNormal(activity);\r\n\r\n    activityTime = formatTimeToTwelveHourFormat(activityTime);\r\n    activityDate = new Date(activityDate);\r\n\r\n    activityDate = activityDate.toLocaleDateString(\"en-us\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    });\r\n\r\n    console.log(activityData);\r\n\r\n    const scheduleListItemMarkup = ` \r\n           <li class=\"list-item schedule_activity\" data-activity-id='${activityId}'>\r\n            <span class=\"schedule_activity-icon\">\r\n              <img class=\"icon-image\" src=\"../src/${icon}.png\" alt=\"\" />\r\n            </span>\r\n            <div class=\"flex flex-dc\">\r\n              <div class='flex max-width'>\r\n                <div class=\"flex flex-dc\">\r\n                <span class=\"schedule_activity-name\">${activity}</span>\r\n                ${\r\n                  farmInput\r\n                    ? `\r\n                <span class=\"schedule_activity-farmInput\">${farmInput}</span>\r\n                  \r\n                  `\r\n                    : `\r\n                <span class=\"schedule_activity-farmInput\">&nbsp;</span>\r\n                  \r\n                  `\r\n                }\r\n                </div>\r\n                <div class='schedule_activity-btns max-width ml-auto'>\r\n                <button class='btn btn-icon-only--sm ml-auto btn-trigger-popover' >\r\n                <ion-icon name=\"ellipsis-vertical\"></ion-icon>\r\n                </button>\r\n              \r\n             \r\n                <div class='popover popover--schedule hidden' id='schedule-btns--${activityId}'>\r\n                <button class='btn btn-small btn-icon btn-cancel-activity btn-close-modal'>\r\n                <ion-icon name=\"trash-outline\"></ion-icon>\r\n                \r\n                Cancel activity</button>\r\n                <button class='btn btn-small btn-icon btn-complete-activity'>\r\n                <ion-icon name=\"checkmark-circle-outline\"></ion-icon>\r\n                Mark as done</button>\r\n                </div>\r\n                </div>\r\n              \r\n                </div>\r\n              <div class=\"flex flex-dr ${\r\n                farmInput ? \"mt-tiny\" : \"m\"\r\n              } height-max\">\r\n                <span class=\"schedule_activity-date\">${activityDate}</span>\r\n                <span class=\"schedule_activity-time ml-auto\"\r\n                  >${activityTime}</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </li>`;\r\n\r\n    return scheduleListItemMarkup;\r\n  }\r\n\r\n  function createConfirmExpensesFormMarkup(expenseDescriptionDetailValues) {\r\n    const expenseDescriptionDetailLabels = {\r\n      labour: [\r\n        { id: \"activity\", label: \"Activity\" },\r\n        { id: \"laborers\", label: \"Laborers\" },\r\n        { id: \"payRate\", label: \"Pay Rate\" },\r\n        { id: \"hoursRequired\", label: \"Hours\" },\r\n      ],\r\n      pesticidePurchase: [\r\n        { id: \"pesticide\", label: \"Pesticide\" },\r\n        { id: \"quantity\", label: \"Quantity\" },\r\n        { id: \"purchaseCost\", label: \"Cost\" },\r\n      ],\r\n      fertilizerPurchase: [\r\n        { id: \"fertilizer\", label: \"Fertilizer\" },\r\n        { id: \"quantity\", label: \"Quantity\" },\r\n        { id: \"purchaseCost\", label: \"Cost\" },\r\n      ],\r\n    };\r\n\r\n    const expenses = Object.keys(expenseDescriptionDetailValues);\r\n    console.log(expenses);\r\n\r\n    let markup = `<form class=\"form dialog_content dialog_content-confirm\">\r\n                                      <h2>Confirm Activity Expenses</h2>\r\n                                      <div class=\"activity_expenses flex flex-dc gap-md\">\r\n                                        <div>\r\n                                          <ul class=\"list expense_list expense_list--labor\">\r\n\r\n                                            <li class=\"expense_list-item header-row\">\r\n                                              <span>Expense</span>\r\n                                              <span>Description</span>\r\n                                              <span>Total</span>\r\n\r\n                                            </li>\r\n                                        `;\r\n\r\n    const expenseListItems = expenses.map((expense) => {\r\n      let listItemMarkup = ` <li class=\"expense_list-item values-row\">\r\n                                              <span class=\"item_detail\">${expense\r\n                                                .replace(\r\n                                                  /([a-z])([A-Z])/g,\r\n                                                  \"$1 $2\"\r\n                                                )\r\n                                                .split(\" \")\r\n                                                .map(\r\n                                                  (word) =>\r\n                                                    word\r\n                                                      .charAt(0)\r\n                                                      .toUpperCase() +\r\n                                                    word.slice(1)\r\n                                                )\r\n                                                .join(\",\")\r\n                                                .replace(\",\", \" \")}</span>\r\n                                              <div class=\"item_detail item_detail-description\">`;\r\n      const descriptionDetails = expenseDescriptionDetailLabels[expense];\r\n      descriptionDetails.forEach((detail) => {\r\n        listItemMarkup += `   <div>\r\n                                      <span>${detail.label}</span>\r\n                                      <span>\r\n                                        ${\r\n                                          expenseDescriptionDetailValues[\r\n                                            expense\r\n                                          ][detail.id]\r\n                                        }\r\n                                      </span>\r\n                                    </div>`;\r\n      });\r\n      listItemMarkup += `     </div>\r\n                                    <span class=\"item_detail\">KSH. ${expenseDescriptionDetailValues[expense].totalCost}</span>\r\n                                 </li>`;\r\n      return listItemMarkup;\r\n    });\r\n\r\n    expenseListItems.forEach((item) => (markup += item));\r\n    markup += `         </ul>\r\n                                </div>\r\n                                </div>\r\n\r\n                          <div class=\"btns-row flex\">\r\n                                <button  type='button' class=\"btn btn-secondary btn-large btn-close-modal\">Cancel</button>\r\n                                <button type='button' class=\"btn btn-primary btn-large btn-open-confirm-expense-form\">Edit</button>\r\n                                <button class=\"btn btn-primary btn-large btn-open-confirm-expense-form\">Confirm</button>\r\n                          </div>\r\n                        </form>`;\r\n\r\n    return markup;\r\n  }\r\n\r\n  openDialogBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n\r\n      const dialogName = btn.getAttribute(\"data-opens\");\r\n      console.log(btn, dialogName);\r\n      const dialogElementToOpen = document.getElementById(dialogName);\r\n      dialogElementToOpen.showModal();\r\n    });\r\n  });\r\n\r\n  openExpenseFormBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => openForm(e, btn, \"expense\"));\r\n  });\r\n  openActivityFormBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => openForm(e, btn, \"activity\"));\r\n  });\r\n\r\n  function openForm(e, btn, formType, formValues = {}, isEditMode = false) {\r\n    e.preventDefault();\r\n    const formToOpen = btn.getAttribute(\"data-opens\");\r\n\r\n    const farmInputType = formToOpen.includes(\"pesticide\")\r\n      ? \"pesticide\"\r\n      : formToOpen.includes(\"fertilizer\")\r\n      ? \"fertilizer\"\r\n      : false;\r\n\r\n    const farmInputAvailableOptions = farmInputType\r\n      ? availableFarmInputs[farmInputType]?.map((item) => item.description) ??\r\n        []\r\n      : false;\r\n\r\n    console.log(\"farmInputType\", farmInputType, availableFarmInputs);\r\n\r\n    let farmInput = farmInputType\r\n      ? {\r\n          type: farmInputType,\r\n          availableOptions: farmInputAvailableOptions,\r\n        }\r\n      : false;\r\n\r\n    farmInput = formType === \"expense\" ? farmInputType : farmInput;\r\n\r\n    const markup = createMarkup(farmInput, formType, formToOpen, isEditMode);\r\n\r\n    // const dialogContentEl =\r\n    //   btn.closest(\".dialog_content\") ??\r\n    //   document.querySelector(`.dialog_content`);\r\n    const selectionForm =\r\n      btn.closest(\".dialog_content-select\") ??\r\n      document.querySelector(`.dialog_content-select--${formType}`);\r\n\r\n    const dialogContentEl = selectionForm.closest(\".dialog_content\");\r\n\r\n    console.log(`.dialog_content-select--${formType}`);\r\n\r\n    dialogContentEl.removeChild(selectionForm);\r\n\r\n    dialogContentEl.insertAdjacentHTML(\"beforeEnd\", markup);\r\n\r\n    console.log(\"formvaaaaaaaaaaaaaaaaalues\", formValues);\r\n\r\n    if (Object.keys(formValues).length > 0) {\r\n      const inputElements = dialogContentEl.querySelectorAll(\".input\");\r\n      if (Object.keys(formValues).includes(\"farmInputId\")) {\r\n        const idInputEl = document.createElement(\"input\");\r\n\r\n        idInputEl.id = \"farmInputId\";\r\n        idInputEl.value = formValues.farmInputId;\r\n        idInputEl.classList.add(\"input\");\r\n        idInputEl.classList.add(\"hidden\");\r\n\r\n        inputElements[0].parentNode.insertAdjacentElement(\r\n          \"beforeend\",\r\n          idInputEl\r\n        );\r\n      }\r\n\r\n      inputElements.forEach((el) => {\r\n        const key = el.getAttribute(\"id\");\r\n        const tagName = el.tagName;\r\n        console.log(\"element\", tagName);\r\n\r\n        if (Object.keys(formValues).includes(key)) {\r\n          if (tagName === \"SELECT\") {\r\n            const inputElement = document.createElement(\"input\");\r\n\r\n            inputElement.id = key;\r\n            inputElement.value = formValues[key];\r\n            inputElement.classList.add(\"input\");\r\n\r\n            el.parentNode.replaceChild(inputElement, el);\r\n          }\r\n          el.value = formValues[key];\r\n        }\r\n      });\r\n    }\r\n\r\n    handleFormOpen(formValues, isEditMode);\r\n  }\r\n\r\n  function getFormData(form) {\r\n    const inputElements = form.querySelectorAll(\".input\");\r\n\r\n    let formData = {};\r\n\r\n    inputElements.forEach((el) => {\r\n      const key = el.getAttribute(\"id\");\r\n      const type = el.getAttribute(\"type\");\r\n      const value = el.value;\r\n      formData[key] = type === \"number\" ? parseFloat(value) : value;\r\n\r\n      el.addEventListener(\"change\", (e) => {\r\n        const value = e.target.value;\r\n        formData[key] = type === \"number\" ? parseFloat(value) : value;\r\n      });\r\n    });\r\n\r\n    return formData;\r\n  }\r\n\r\n  function handleFormOpen(existingData = {}, isEditMode = false) {\r\n    const closeDialogBtns = document.querySelectorAll(\".btn-close-modal\");\r\n\r\n    closeDialogBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        closeDialog(btn);\r\n      });\r\n    });\r\n\r\n    function addFormValidation(form) {\r\n      const inputElements = form.querySelectorAll(\"input\");\r\n\r\n      inputElements.forEach((el) => {\r\n        if (el.getAttribute(\"type\") === \"number\") {\r\n          el.setAttribute(\"min\", 1);\r\n        }\r\n        if (el.getAttribute(\"type\") === \"date\") {\r\n          el.setAttribute(\"min\", new Date().toISOString().split(\"T\")[0]);\r\n        }\r\n      });\r\n    }\r\n\r\n    const expensesForm = document.querySelector(\r\n      \".dialog_content--input-expense-details\"\r\n    );\r\n    const activityForm = document.querySelector(\r\n      \".dialog_content--input-activity-details\"\r\n    );\r\n\r\n    function editFormMarkup() {}\r\n\r\n    if (activityForm) {\r\n      addFormValidation(activityForm);\r\n\r\n      const unHideFormFieldsBtns = document.querySelectorAll(\r\n        \".btn-unHide-form-fields\"\r\n      );\r\n      const activity = document.querySelector(\".input--activity\").value;\r\n      const openExpenseConfirmFormBtn = document.querySelector(\r\n        \".btn-open-confirm-expense-form\"\r\n      );\r\n\r\n      const subFormLabelEls = activityForm.querySelectorAll(\".sub-form_label\");\r\n\r\n      subFormLabelEls.forEach((el) => {\r\n        const label = el.textContent.toLowerCase();\r\n        console.log(label);\r\n\r\n        if (\r\n          Object.keys(existingData).includes(label) ||\r\n          Object.keys(existingData).includes(`${label}ToPurchase`)\r\n        ) {\r\n          const formRowEl = el.parentNode;\r\n          formRowEl.parentNode.removeChild(formRowEl);\r\n\r\n          const farmInput =\r\n            existingData[label] ?? existingData[`${label}ToPurchase`];\r\n\r\n          console.log(farmInput, label);\r\n\r\n          const farmInputDetails = getSelectedFarmInputDetails(\r\n            farmInput,\r\n            label\r\n          );\r\n          const requiredQuantityEl =\r\n            document.getElementById(\"requiredQuantity\");\r\n\r\n          if (Object.keys(farmInputDetails).length > 0) {\r\n            document\r\n              .getElementById(label)\r\n              .closest(\".form-row--horizontal\")\r\n              .classList.remove(\"hidden\");\r\n\r\n            requiredQuantityEl\r\n              .closest(\".form-row--horizontal\")\r\n              .classList.remove(\"hidden\");\r\n\r\n            requiredQuantityEl.removeAttribute(\"disabled\");\r\n            requiredQuantityEl.addEventListener(\"change\", (e) => {\r\n              e.preventDefault();\r\n              compareAvailableAndRequiredQuantities(farmInputDetails.quantity);\r\n            });\r\n          } else {\r\n            document.getElementById(`${label}ToPurchase`).value = farmInput;\r\n            const elementsToUnHide = [\r\n              `${label}ToPurchase`,\r\n              \"requiredQuantity\",\r\n              \"measurementUnit\",\r\n              \"quantityToPurchase\",\r\n              \"purchaseCost\",\r\n            ];\r\n\r\n            elementsToUnHide.forEach((id) => {\r\n              const inputEl = document.getElementById(id);\r\n\r\n              inputEl\r\n                .closest(\".form-row--horizontal\")\r\n                .classList.remove(\"hidden\");\r\n\r\n              inputEl.removeAttribute(\"disabled\");\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      // if(optionButtonsRowEl.querySelector('label').textContent.includes(existingData.fo))\r\n\r\n      unHideFormFieldsBtns.forEach((btn) => {\r\n        btn.addEventListener(\"click\", (e) => {\r\n          e.preventDefault();\r\n          const fieldsToUnHide = JSON.parse(btn.getAttribute(\"data-unHides\"));\r\n\r\n          console.log(fieldsToUnHide);\r\n          fieldsToUnHide?.forEach((field) => {\r\n            const inputEl = document.getElementById(field);\r\n            inputEl.closest(\".form-row--horizontal\").classList.remove(\"hidden\");\r\n\r\n            inputEl.removeAttribute(\"disabled\");\r\n          });\r\n\r\n          const buttonsRowEl = btn.closest(\".form-row--horizontal\");\r\n          const fieldsToDelete = buttonsRowEl\r\n            .closest(\".sub-form\")\r\n            .querySelectorAll(\".hidden\");\r\n\r\n          // fieldsToDelete.forEach((field) =>\r\n          //   field.parentNode.removeChild(field)\r\n          // );\r\n\r\n          buttonsRowEl.parentNode.removeChild(buttonsRowEl);\r\n        });\r\n      });\r\n\r\n      let availableFarmInputSelected = \"\";\r\n      const availableFarmInputSelectEl = activityForm.querySelector(\"select\");\r\n      const requiredQuantityEl = document.getElementById(\"requiredQuantity\");\r\n      const measurementUnitSelectEl =\r\n        document.getElementById(\"measurementUnit\");\r\n\r\n      requiredQuantityEl?.addEventListener(\"change\", (e) => {\r\n        e.preventDefault();\r\n        compareAvailableAndRequiredQuantities();\r\n      });\r\n\r\n      console.log(availableFarmInputSelectEl);\r\n\r\n      availableFarmInputSelectEl?.addEventListener(\"change\", (e) => {\r\n        e.preventDefault();\r\n        if (!availableFarmInputSelectEl.disabled) {\r\n          addMeasurementUnitToLabel();\r\n\r\n          compareAvailableAndRequiredQuantities();\r\n        }\r\n      });\r\n\r\n      function addMeasurementUnitToLabel() {\r\n        const selectedFarmInput = activityForm.querySelector(\"select\").value;\r\n        const farmInputType = availableFarmInputSelectEl.getAttribute(\"id\");\r\n        const selectedFarmInputDetails = getSelectedFarmInputDetails(\r\n          selectedFarmInput,\r\n          farmInputType\r\n        );\r\n\r\n        const selectedMeasurementUnit =\r\n          selectedFarmInputDetails?.measurementUnit;\r\n\r\n        const measurementUnitInputEl = document.createElement(\"input\");\r\n        measurementUnitInputEl.classList.add(\"input\");\r\n        // measurementUnitInputEl.classList.add(\"hidden\");\r\n        measurementUnitInputEl.setAttribute(\"id\", \"measurementUnit\");\r\n        measurementUnitInputEl.setAttribute(\"value\", selectedMeasurementUnit);\r\n        measurementUnitSelectEl.parentNode.replaceChild(\r\n          measurementUnitInputEl,\r\n          measurementUnitSelectEl\r\n        );\r\n\r\n        console.log(measurementUnitInputEl.value);\r\n        requiredQuantityEl.parentNode.querySelector(\r\n          \"label\"\r\n        ).textContent += ` (${selectedMeasurementUnit})`;\r\n      }\r\n\r\n      function getSelectedFarmInputDetails(selectedFarmInput, farmInputType) {\r\n        console.log(selectedFarmInput, farmInputType);\r\n        const selectedFarmInputDetails =\r\n          availableFarmInputs[farmInputType].find(\r\n            (item) => item.description === selectedFarmInput\r\n          ) ?? {};\r\n\r\n        console.log(selectedFarmInput);\r\n\r\n        return selectedFarmInputDetails;\r\n      }\r\n\r\n      function compareAvailableAndRequiredQuantities(\r\n        availableQuantity = false\r\n      ) {\r\n        let selectedFarmInputQuantity;\r\n        const requiredQuantity = requiredQuantityEl.value * 1;\r\n\r\n        function compare(selectedFarmInputQuantity, requiredQuantity) {\r\n          console.log(document.getElementById(\"quantityToPurchase\"));\r\n          const quantityToPurchaseEl =\r\n            document.getElementById(\"quantityToPurchase\");\r\n          const purchaseCostEl = document.getElementById(\"purchaseCost\");\r\n          if (selectedFarmInputQuantity < requiredQuantity) {\r\n            quantityToPurchaseEl.parentElement.classList.remove(\"hidden\");\r\n            purchaseCostEl.parentElement.classList.remove(\"hidden\");\r\n\r\n            quantityToPurchaseEl.removeAttribute(\"disabled\");\r\n            purchaseCostEl.removeAttribute(\"disabled\");\r\n          } else if (selectedFarmInputQuantity > requiredQuantity) {\r\n            quantityToPurchaseEl.parentElement.classList.add(\"hidden\");\r\n            purchaseCostEl.parentElement.classList.add(\"hidden\");\r\n\r\n            quantityToPurchaseEl.setAttribute(\"disabled\", true);\r\n            purchaseCostEl.setAttribute(\"disabled\", true);\r\n          }\r\n        }\r\n\r\n        if (availableQuantity) {\r\n          compare(availableQuantity, requiredQuantity);\r\n        } else {\r\n          if (availableFarmInputSelectEl.disabled) return;\r\n          if (availableFarmInputSelectEl.value === \"\") return;\r\n\r\n          const farmInputType = availableFarmInputSelectEl.getAttribute(\"id\");\r\n\r\n          const selectedFarmInput = activityForm.querySelector(\"select\").value;\r\n          console.log(availableFarmInputSelectEl);\r\n          const selectedFarmInputDetails = getSelectedFarmInputDetails(\r\n            selectedFarmInput,\r\n            farmInputType\r\n          );\r\n          selectedFarmInputQuantity = selectedFarmInputDetails?.quantity;\r\n          compare(selectedFarmInputQuantity, requiredQuantity);\r\n        }\r\n      }\r\n\r\n      let activityData = getFormData(activityForm);\r\n      activityData[\"activity\"] = activity;\r\n\r\n      console.log(activityData);\r\n\r\n      function generateActivityExpenses(activityData, activity) {\r\n        const activityName = activity\r\n          .replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n          .split(\" \")\r\n          .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\r\n          .join(\",\")\r\n          .replace(\",\", \" \");\r\n\r\n        const farmInputType = activity.split(\"Application\")[0];\r\n\r\n        activityData[\"farmInputType\"] = farmInputType;\r\n\r\n        const purchasedItemName =\r\n          activityData[farmInputType].length > 0\r\n            ? activityData[farmInputType]\r\n            : activityData[`${farmInputType}toPurchase`];\r\n\r\n        activityData[\"farmInputName\"] = purchasedItemName;\r\n\r\n        const {\r\n          numberOfLaborers: laborers,\r\n          payRate,\r\n          hoursRequired,\r\n          activityDate,\r\n        } = activityData;\r\n\r\n        const totalCost = laborers * payRate * hoursRequired;\r\n\r\n        const labourExpenseData = {\r\n          farm_id: 1,\r\n          expense_type: \"labour\",\r\n          expense_total: totalCost,\r\n          transaction_date: activityDate,\r\n          expense_details: [\r\n            {\r\n              numberOfLaborers: laborers,\r\n              description: activityName,\r\n              payRate,\r\n              hoursWorked: hoursRequired,\r\n              transactionDate: activityDate,\r\n\r\n              expenseTotal: totalCost,\r\n            },\r\n          ],\r\n        };\r\n\r\n        const labourExpenseDataToDisplay = {\r\n          laborers,\r\n          activity: activityName,\r\n          payRate: `KSH.${payRate}`,\r\n          hoursRequired,\r\n          totalCost,\r\n        };\r\n\r\n        let activityExpensesAndFarmInputDetails = {};\r\n        let activityExpenses = {};\r\n        let activityExpensesDataToDisplay = {};\r\n\r\n        if (activityData.numberOfLaborers) {\r\n          activityExpenses = { labourExpenseData };\r\n          activityExpensesDataToDisplay = {\r\n            labour: labourExpenseDataToDisplay,\r\n          };\r\n          activityExpensesAndFarmInputDetails = {\r\n            activityExpenses,\r\n            activityExpensesDataToDisplay,\r\n          };\r\n        }\r\n\r\n        function generatePurchaseExpenseDetails(purchasedItem) {\r\n          let farmInputToUpdate,\r\n            farmInputToCreate = {};\r\n\r\n          const {\r\n            activity,\r\n            purchaseCost,\r\n            requiredQuantity,\r\n            quantityToPurchase,\r\n            activityDate,\r\n            measurementUnit,\r\n          } = activityData;\r\n\r\n          // const farmInputType = activity.split(\"Application\")[0];\r\n\r\n          // activityData[\"farmInputType\"] = farmInputType;\r\n\r\n          // const purchasedItemName =\r\n          //   activityData[purchasedItem].length > 0\r\n          //     ? activityData[purchasedItem]\r\n          //     : activityData[`${purchasedItem}toPurchase`];\r\n\r\n          // activityData[\"farmInputName\"] = purchasedItemName;\r\n\r\n          let purchaseExpenseData = {\r\n            farm_id: 1,\r\n            expense_type: farmInputType,\r\n            expense_total: purchaseCost,\r\n            transaction_date: activityDate,\r\n          };\r\n\r\n          let purchaseExpenseDataToDisplay = {\r\n            [purchasedItem]: purchasedItemName,\r\n            quantity: `${quantityToPurchase} ${measurementUnit}`,\r\n            purchaseCost: `KSH.${purchaseCost}`,\r\n            totalCost: purchaseCost,\r\n          };\r\n\r\n          if (activityData[purchasedItem].length > 1) {\r\n            const {\r\n              farmInputId,\r\n              quantity: currentQuantity,\r\n              measurementUnit,\r\n            } = getSelectedFarmInputDetails(\r\n              activityData[purchasedItem],\r\n              purchasedItem\r\n            );\r\n\r\n            purchaseExpenseData = {\r\n              ...purchaseExpenseData,\r\n              expense_details: [\r\n                {\r\n                  expense: farmInputType,\r\n                  description: purchasedItemName,\r\n                  quantity: quantityToPurchase,\r\n                  transactionDate: activityDate,\r\n                  cost: purchaseCost,\r\n                },\r\n              ],\r\n            };\r\n            purchaseExpenseDataToDisplay = {\r\n              ...purchaseExpenseDataToDisplay,\r\n              quantity: `${quantityToPurchase} ${measurementUnit}`,\r\n            };\r\n\r\n            const quantityAfterPurchase = currentQuantity + quantityToPurchase;\r\n            const quantityAfterSubtractingRequiredQuantity =\r\n              quantityAfterPurchase - requiredQuantity;\r\n\r\n            const updatedFarmInputDetails = {\r\n              farmInputId,\r\n              quantity: quantityAfterSubtractingRequiredQuantity,\r\n            };\r\n\r\n            farmInputToUpdate = updatedFarmInputDetails;\r\n          }\r\n          if (activityData[`${purchasedItem}ToPurchase`].length > 1) {\r\n            const quantityAfterSubtractingRequiredQuantity =\r\n              quantityToPurchase - requiredQuantity;\r\n\r\n            const newFarmInputDetails = {\r\n              description: activityData[`${purchasedItem}ToPurchase`],\r\n              quantity: quantityAfterSubtractingRequiredQuantity,\r\n              measurement_unit: measurementUnit,\r\n              farm_input_type: farmInputType,\r\n            };\r\n\r\n            farmInputToCreate = newFarmInputDetails;\r\n\r\n            purchaseExpenseData = {\r\n              ...purchaseExpenseData,\r\n              expense_details: [\r\n                {\r\n                  expense: farmInputType,\r\n                  description: purchasedItemName,\r\n                  quantity: quantityToPurchase,\r\n                  transactionDate: activityDate,\r\n                  cost: purchaseCost,\r\n                },\r\n              ],\r\n            };\r\n          }\r\n\r\n          return {\r\n            purchaseExpenseData,\r\n            purchaseExpenseDataToDisplay,\r\n\r\n            farmInputToCreate,\r\n            farmInputToUpdate,\r\n          };\r\n        }\r\n\r\n        if (activity === \"pesticideApplication\" && activityData.purchaseCost) {\r\n          const {\r\n            purchaseExpenseData: pesticidePurchase,\r\n            purchaseExpenseDataToDisplay,\r\n\r\n            farmInputToCreate,\r\n            farmInputToUpdate,\r\n          } = generatePurchaseExpenseDetails(\"pesticide\");\r\n\r\n          const farmInputToCreateOrUpdate =\r\n            Object.keys(farmInputToCreate).length > 0\r\n              ? farmInputToCreate\r\n              : Object.keys(farmInputToUpdate).length > 0\r\n              ? farmInputToUpdate\r\n              : false;\r\n\r\n          activityExpenses = { ...activityExpenses, pesticidePurchase };\r\n          activityExpensesDataToDisplay = {\r\n            ...activityExpensesDataToDisplay,\r\n            pesticidePurchase: purchaseExpenseDataToDisplay,\r\n          };\r\n\r\n          activityExpensesAndFarmInputDetails = {\r\n            activityExpenses,\r\n            activityExpensesDataToDisplay,\r\n            farmInputDetails: farmInputToCreateOrUpdate,\r\n          };\r\n        }\r\n        if (activity === \"fertilizerApplication\" && activityData.purchaseCost) {\r\n          const {\r\n            purchaseExpenseData: fertilizerPurchase,\r\n            purchaseExpenseDataToDisplay,\r\n            farmInputToCreate,\r\n            farmInputToUpdate,\r\n          } = generatePurchaseExpenseDetails(\"fertilizer\");\r\n\r\n          const farmInputToCreateOrUpdate =\r\n            Object.keys(farmInputToCreate).length > 0\r\n              ? farmInputToCreate\r\n              : Object.keys(farmInputToUpdate).length > 0\r\n              ? farmInputToUpdate\r\n              : false;\r\n\r\n          activityExpenses = {\r\n            ...activityExpenses,\r\n            fertilizerPurchase,\r\n          };\r\n          activityExpensesDataToDisplay = {\r\n            ...activityExpensesDataToDisplay,\r\n            fertilizerPurchase: purchaseExpenseDataToDisplay,\r\n          };\r\n\r\n          activityExpensesAndFarmInputDetails = {\r\n            activityExpenses,\r\n            activityExpensesDataToDisplay,\r\n            farmInputDetails: farmInputToCreateOrUpdate,\r\n          };\r\n        }\r\n\r\n        return activityExpensesAndFarmInputDetails;\r\n      }\r\n      activityForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        const {\r\n          activityExpenses = {},\r\n          farmInputDetails = {},\r\n          activityExpensesDataToDisplay = {},\r\n        } = generateActivityExpenses(activityData, activity);\r\n\r\n        let activityCreateRequest = {};\r\n        let expenseCreateRequests = {};\r\n        let farmInputCreateOrUpdateRequest = {};\r\n\r\n        if (Object.keys(activityData).length > 0) {\r\n          const scheduleListItemMarkup =\r\n            createScheduleListItemMarkup(activityData);\r\n          const {\r\n            activity,\r\n            activityDate,\r\n            activityTime,\r\n            numberOfLaborers,\r\n            farmInputName = false,\r\n            farmInputType = false,\r\n            requiredQuantity = false,\r\n          } = activityData;\r\n\r\n          console.log(activityData);\r\n          const activityDataToUpload = {\r\n            activity_name: activity,\r\n            activity_date: activityDate,\r\n            activity_details: {\r\n              activity,\r\n              activityDate,\r\n              activityTime,\r\n              numberOfLaborers: isNaN(numberOfLaborers)\r\n                ? \"Do it yourself\"\r\n                : numberOfLaborers,\r\n              farmInputName,\r\n              requiredQuantity,\r\n              farmInputType,\r\n            },\r\n            activity_status: \"pending\",\r\n          };\r\n\r\n          activityCreateRequest = {\r\n            url: \"activities/\",\r\n            data: activityDataToUpload,\r\n            loadingMessage: \"Adding activity to schedule\",\r\n            successMessage: \"Activity added successfully\",\r\n          };\r\n          console.log(activityDataToUpload);\r\n\r\n          // document.querySelector(\".activities_list\").innerHTML = \"\";\r\n          document\r\n            .querySelector(\".activities_list\")\r\n            .insertAdjacentHTML(\"beforeend\", scheduleListItemMarkup);\r\n        }\r\n\r\n        if (Object.keys(activityExpensesDataToDisplay).length > 0) {\r\n          openConfirmExpensesForm(activityExpensesDataToDisplay);\r\n        }\r\n\r\n        if (Object.keys(activityExpenses.length > 0)) {\r\n          expenseCreateRequests = Object.keys(activityExpenses).map((key) => {\r\n            const request = {\r\n              url: \"expenses/\",\r\n              data: activityExpenses[key],\r\n              loadingMessage: `Creating ${formatCamelCaseToNormal(\r\n                key.split(\"ExpenseData\")[0]\r\n              )} expense...`,\r\n              successMessage: `${formatCamelCaseToNormal(\r\n                key.split(\"ExpenseData\")[0]\r\n              )} expense created successfully`,\r\n            };\r\n            return request;\r\n          });\r\n\r\n          if (Object.keys(farmInputDetails).length) {\r\n            farmInputCreateOrUpdateRequest = {\r\n              loadingMessage: `Adding ${\r\n                activityData.activity.split(\"Application\")[0]\r\n              } to inventory...`,\r\n              successMessage: `${\r\n                activityData.activity.split(\"Application\")[0]\r\n              } added successfully`,\r\n            };\r\n            if (Object.keys(farmInputDetails).includes(\"farmInputId\")) {\r\n              const { farmInputId, quantity } = farmInputDetails;\r\n              const farmInputData = {\r\n                quantity,\r\n              };\r\n\r\n              farmInputCreateOrUpdateRequest = {\r\n                ...farmInputCreateOrUpdateRequest,\r\n                url: `farmInputs/${farmInputId}`,\r\n                data: { farmInputData },\r\n              };\r\n\r\n              console.log(farmInputCreateOrUpdateRequest);\r\n            } else {\r\n              farmInputCreateOrUpdateRequest = {\r\n                url: `farmInputs/`,\r\n                data: farmInputDetails,\r\n                ...farmInputCreateOrUpdateRequest,\r\n              };\r\n            }\r\n            post(farmInputCreateOrUpdateRequest).then((result) => {\r\n              if (result.status === \"success\") {\r\n                post(activityCreateRequest).then((result) => {\r\n                  if (result.status === \"success\") {\r\n                    expenseCreateRequests.forEach((request) => {\r\n                      const { activity_id } = result.data[0];\r\n                      const updatedRequestData = {\r\n                        ...request.data,\r\n                        activity_id,\r\n                      };\r\n\r\n                      request.data = updatedRequestData;\r\n\r\n                      post(request);\r\n                    });\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            post(activityCreateRequest).then((result) => {\r\n              if (result.status === \"success\") {\r\n                expenseCreateRequests.forEach((request) => {\r\n                  const { activity_id } = result.data[0];\r\n                  const updatedRequestData = {\r\n                    ...request.data,\r\n                    activity_id,\r\n                  };\r\n\r\n                  request.data = updatedRequestData;\r\n\r\n                  post(request);\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      function openConfirmExpensesForm(activityExpensesDataToDisplay) {\r\n        const dialogContentEl = activityForm.closest(\".dialog_content\");\r\n        console.log(\"dialogContentEl\", activityForm.parentNode);\r\n        dialogContentEl.removeChild(activityForm);\r\n\r\n        const markup = dialogContentEl.insertAdjacentHTML(\r\n          \"afterBegin\",\r\n          createConfirmExpensesFormMarkup(activityExpensesDataToDisplay)\r\n        );\r\n      }\r\n    }\r\n\r\n    if (expensesForm) {\r\n      addFormValidation(expensesForm);\r\n\r\n      expensesForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = getFormData(expensesForm);\r\n        console.log(\"isEditMode\", isEditMode);\r\n        if (isEditMode) {\r\n          if (\r\n            formData.expense === \"fertilizer\" ||\r\n            formData.expense === \"pesticide\"\r\n          ) {\r\n            const newQuantity =\r\n              existingData.currentQuantity + formData.quantity;\r\n\r\n            const farmInputData = {\r\n              quantity: newQuantity,\r\n            };\r\n            const farmInputId = existingData.farmInputId;\r\n\r\n            const farmInputUpdateRequest = {\r\n              url: `farmInputs/${farmInputId}`,\r\n              data: { farmInputData },\r\n              loadingMessage: `Adding more ${formData.expense} to inventory...`,\r\n              successMessage: `${capitilizeFirstLetter(\r\n                formData.expense\r\n              )} added successfully`,\r\n            };\r\n\r\n            const expenseDetails = [{ ...formData }];\r\n            const expenseData = {\r\n              transaction_date: formData.transactionDate,\r\n              expense_type: formData.expense,\r\n              expense_details: expenseDetails,\r\n              expense_total: formData.cost,\r\n              farm_id: 1,\r\n            };\r\n\r\n            const expenseCreateRequest = {\r\n              url: \"expenses/\",\r\n              data: expenseData,\r\n              loadingMessage: \"Creating expense...\",\r\n              successMessage: \"Expense created successfully...\",\r\n            };\r\n\r\n            post(farmInputUpdateRequest).then((result) => {\r\n              if (result.status === \"success\") {\r\n                post(expenseCreateRequest).then((result) => {\r\n                  if (result.status === \"success\") {\r\n                    const dialogEl =\r\n                      document.getElementById(\"dialog--expenses\");\r\n                    dialogEl.close();\r\n                  }\r\n                });\r\n              }\r\n            });\r\n\r\n            return;\r\n          }\r\n        } else {\r\n          if (\r\n            formData.expense === \"fertilizer\" ||\r\n            formData.expense === \"pesticide\"\r\n          ) {\r\n            const { description, expense, quantity, measurementUnit } =\r\n              formData;\r\n            const farmInputData = {\r\n              description,\r\n              farm_input_type: expense,\r\n              quantity,\r\n              measurement_unit: measurementUnit,\r\n              farm_id: 1,\r\n            };\r\n\r\n            const expenseDetails = [{ ...formData }];\r\n            const expenseData = {\r\n              transaction_date: formData.transactionDate,\r\n              expense_type: formData.expense,\r\n              expense_details: expenseDetails,\r\n              expense_total: formData.cost,\r\n              farm_id: 1,\r\n            };\r\n\r\n            const farmInputCreateRequest = {\r\n              url: \"farmInputs/\",\r\n              data: farmInputData,\r\n              loadingMessage: `Adding ${formData.expense} to inventory...`,\r\n              successMessage: `${capitilizeFirstLetter(\r\n                formData.expense\r\n              )} added successfully`,\r\n            };\r\n\r\n            const expenseCreateRequest = {\r\n              url: \"expenses/\",\r\n              data: expenseData,\r\n              loadingMessage: \"Creating expense...\",\r\n              successMessage: \"Expense created successfully\",\r\n            };\r\n            console.log(\"farmInputData\", farmInputData);\r\n            post(farmInputCreateRequest).then((result) => {\r\n              if (result.status === \"success\") {\r\n                post(expenseCreateRequest);\r\n              }\r\n            });\r\n          } else {\r\n            const { expense, cost, transactionDate } = formData;\r\n\r\n            const expenseDetails = [{ ...formData }];\r\n            const expenseData = {\r\n              expense_type: expense,\r\n              transaction_date: transactionDate,\r\n              expense_details: expenseDetails,\r\n              expense_total: cost,\r\n            };\r\n\r\n            const expenseCreateRequest = {\r\n              url: \"expenses/\",\r\n              data: expenseData,\r\n              loadingMessage: \"Creating expense...\",\r\n              successMessage: \"Expense created successfully\",\r\n            };\r\n\r\n            post(expenseCreateRequest);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleCoffeeHarvestForm() {\r\n    const harvestForm = document.querySelector(\".form--coffee-harvest\");\r\n    let formData = {};\r\n    harvestForm.querySelectorAll(\"input\").forEach((input) => {\r\n      input.addEventListener(\"change\", (e) => {\r\n        const label = input.getAttribute(\"id\");\r\n        const type = input.getAttribute(\"type\");\r\n        const value = type === \"number\" ? parseFloat(input.value) : input.value;\r\n        formData = { ...formData, [label]: value };\r\n      });\r\n    });\r\n    harvestForm.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n\r\n      const { harvestQuantity: harvest_amount_kg, harvestDate: harvest_date } =\r\n        formData;\r\n\r\n      const harvestData = { harvest_amount_kg, harvest_date };\r\n\r\n      post({\r\n        url: \"farmProduce/coffee-yield\",\r\n        data: harvestData,\r\n        loadingMessage: \"Adding yield records...\",\r\n        successMessage: \"Coffee yield recorded successfully\",\r\n      }).then((result) => {\r\n        if (result.status === \"success\") {\r\n          closeDialog(harvestForm);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  handleCoffeeHarvestForm();\r\n}\r\n","import { post } from \"./crudOperations.js\";\r\n\r\nexport function handleExpenseAndYieldInput() {\r\n  const showHarvestDialogBtn = document.querySelector(\".showHarvestDialog\");\r\n  const showExpenseDialogBtn = document.querySelector(\".showExpenseDialog\");\r\n  const harvestDialog = document.getElementById(\"harvest-dialog\");\r\n  const expenseDialog = document.getElementById(\"expense-dialog\");\r\n  const dialogContentEl = document.querySelector(\".dialog_content\");\r\n  const selectExpenseForm = document.querySelector(\r\n    \".dialog_content--select-expense\"\r\n  );\r\n  const inputExpenseDetailsForm = document.querySelector(\r\n    \".dialog_content--input-expense-details\"\r\n  );\r\n  const openExpenseFormBtns = document.querySelectorAll(\r\n    \".btn-open-expense-form\"\r\n  );\r\n\r\n  const closeDialogBtns = document.querySelectorAll(\".btn-close-modal\");\r\n\r\n  function closeDialog(btn) {\r\n    btn.closest(\"dialog\").close();\r\n    window.location.reload();\r\n  }\r\n\r\n  closeDialogBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      closeDialog(btn);\r\n    });\r\n  });\r\n\r\n  showHarvestDialogBtn.addEventListener(\"click\", () => {\r\n    harvestDialog.showModal();\r\n  });\r\n  showExpenseDialogBtn.addEventListener(\"click\", () => {\r\n    expenseDialog.showModal();\r\n  });\r\n\r\n  const expenseForms = {\r\n    labour: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      {\r\n        id: \"numberOfLaborers\",\r\n        label: \"Number of Laborers\",\r\n        type: \"number\",\r\n      },\r\n      { id: \"payRate\", label: \"Pay Rate\", type: \"number\" },\r\n      {\r\n        id: \"hoursWorked\",\r\n        label: \"Hours worked\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    pesticides: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      {\r\n        id: \"costPerUnit\",\r\n        label: \"Cost per unit\",\r\n        type: \"number\",\r\n      },\r\n      {\r\n        id: \"quantity\",\r\n        label: \"Quantity purchased\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    fertilizer: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n\r\n        type: \"select\",\r\n        options: [\r\n          \"Picking\",\r\n          \"Fertilizer Application\",\r\n          \"Pesticide Application\",\r\n          \"Pruning\",\r\n        ],\r\n      },\r\n      {\r\n        id: \"costPerUnit\",\r\n        label: \"Cost per unit\",\r\n        type: \"number\",\r\n      },\r\n      {\r\n        id: \"quantity\",\r\n        label: \"Quantity purchased\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n    miscelleneous: [\r\n      {\r\n        id: \"description\",\r\n        label: \"Description\",\r\n      },\r\n      {\r\n        id: \"cost\",\r\n        label: \"Cost\",\r\n        type: \"number\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  function openExpenseSelectionForm() {\r\n    console.log(\"hello\");\r\n    openExpenseSelectionFormBtn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      // dialogContentEl.removeChild(inputExpenseDetailsForm);\r\n\r\n      dialogContentEl.appendChild(selectExpenseForm);\r\n    });\r\n  }\r\n\r\n  function handleFormOpen(expenseType) {\r\n    const openExpenseSelectionFormBtn = document.querySelector(\r\n      \".open-select-expense-form\"\r\n    );\r\n\r\n    const inputExpenseDetailsForm = document.querySelector(\r\n      \".dialog_content--input-expense-details\"\r\n    );\r\n\r\n    if (inputExpenseDetailsForm) {\r\n      const inputElements = inputExpenseDetailsForm.querySelectorAll(\".input\");\r\n\r\n      let formData = {\r\n        expenseDetails: {},\r\n      };\r\n\r\n      function parseValue(value, type) {\r\n        switch (type) {\r\n          case \"number\":\r\n            return parseFloat(value);\r\n\r\n          default:\r\n            return value.toString();\r\n        }\r\n      }\r\n\r\n      inputElements.forEach((el) => {\r\n        el.addEventListener(\"change\", (e) => {\r\n          const key = el.getAttribute(\"id\");\r\n          const type = el.getAttribute(\"type\");\r\n\r\n          const value = e.target.value;\r\n          if (key === \"transactionDate\" || key === \"expenseTotal\") {\r\n            formData[key] = parseValue(value, type);\r\n          }\r\n          // formData.expenseDetails.push({ [key]: parseValue(value, type) });\r\n          formData.expenseDetails = {\r\n            ...formData.expenseDetails,\r\n            [key]: parseValue(value, type),\r\n          };\r\n        });\r\n      });\r\n\r\n      inputExpenseDetailsForm.addEventListener(\"submit\", (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const data = {\r\n          farm_id: 1,\r\n          expense_type: expenseType,\r\n          transaction_date: formData.transactionDate,\r\n          expense_total: formData.expenseTotal,\r\n          expense_details: [formData.expenseDetails],\r\n        };\r\n\r\n        console.log(data);\r\n        const req = {\r\n          url: \"expenses/\",\r\n          data,\r\n          loadingMessage: \"Creating expense...\",\r\n          successMessage: \"Expense created successfully\",\r\n        };\r\n\r\n        post(req);\r\n        console.log(formData);\r\n      });\r\n\r\n      openExpenseSelectionFormBtn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        dialogContentEl.removeChild(inputExpenseDetailsForm);\r\n        dialogContentEl.appendChild(selectExpenseForm);\r\n      });\r\n    }\r\n  }\r\n\r\n  function openExpenseForm(formDetails, expenseType) {\r\n    const elements = formDetails.map((el) => {\r\n      const label = `<label for=${el.id}>${el.label}</label>`;\r\n      let input;\r\n      if (el.type !== \"select\") {\r\n        input = `<input id=${el.id} class=\"input\" type=${el.type} required />`;\r\n      } else {\r\n        input = `<select id=${el.id} class=\"input\" required>\r\n                        <option value=\"\">--Please choose an option--</option>`;\r\n        el.options.forEach(\r\n          (option) => (input += `<option value=${option}>${option}</option>`)\r\n        );\r\n        input += `</select>`;\r\n      }\r\n\r\n      return `<div class=\"form-row form-row--horizontal\">${label}${input}</div>`;\r\n    });\r\n\r\n    let markup = `\r\n                  <form class='form dialog_content--input-expense-details'>\r\n                  <h2>Enter ${expenseType} expense Details</h2>\r\n                    <div class=\"form-row form-row--horizontal\">\r\n                      <label for=\"transactionDate\">Transaction Date</label>\r\n                      <input id='transactionDate' class=\"input\" required type=\"date\" />\r\n                    </div>\r\n                  `;\r\n    elements.forEach((el) => (markup += el));\r\n\r\n    markup += `\r\n                  <div class=\"form-row form-row--horizontal\">\r\n                      <label for=\"total\">Total</label>\r\n                      <input id='expenseTotal' class=\"input\" type=\"number\" />\r\n                    </div>\r\n                  <div class=\"btns-row\">\r\n                    <button class=\"btn btn-secondary btn-large open-select-expense-form\" type='button' >Back</button>\r\n                    <button class=\"btn btn-secondary btn-large\">Cancel</button>\r\n                    <button class=\"btn btn-primary btn-large\">Submit</button>\r\n                  </div>\r\n                  </form>`;\r\n\r\n    dialogContentEl.removeChild(selectExpenseForm);\r\n\r\n    dialogContentEl.insertAdjacentHTML(\"beforeEnd\", markup);\r\n    // formContainerEl.insertAdjacentHTML(\"afterBegin\", markup);\r\n\r\n    handleFormOpen(expenseType);\r\n  }\r\n\r\n  openExpenseFormBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      const formToOpen = btn.getAttribute(\"data-opens\");\r\n      console.log(expenseForms[formToOpen]);\r\n      openExpenseForm(expenseForms[formToOpen], formToOpen);\r\n    });\r\n  });\r\n}\r\n","import { get, post } from \"./crudOperations.js\";\r\nimport { toggleLoading } from \"./pestManagement.js\";\r\n\r\nexport async function handleFarmProfilePage() {\r\n  let isLoading = true;\r\n  const elementsWaitingForData = [\".row--details\"];\r\n\r\n  toggleLoading(isLoading, elementsWaitingForData);\r\n\r\n  get({ url: \"farmProduce/farm-profile\" }).then((result) => {\r\n    if (result.status === \"success\") {\r\n      const profileData = result.data[0];\r\n      const farmId = profileData.farm_id;\r\n\r\n      isLoading = false;\r\n      renderProfileDetails(profileData);\r\n      handleProfileDetailsForm(farmId);\r\n      toggleLoading(isLoading, elementsWaitingForData);\r\n\r\n      console.log(profileData);\r\n    }\r\n  });\r\n\r\n  function handleProfileDetailsForm(farmId) {\r\n    const farmProfileDetailsForm = document.querySelector(\r\n      \".form--farm-profile\"\r\n    );\r\n    const inputEls = farmProfileDetailsForm.querySelectorAll(\"input\");\r\n\r\n    let formData = {};\r\n    inputEls.forEach((el) => {\r\n      el.addEventListener(\"change\", (e) => {\r\n        e.preventDefault();\r\n\r\n        el.closest(\"section\")\r\n          .querySelector(\".btns-row\")\r\n          .classList.remove(\"hidden\");\r\n\r\n        const inputElId = el.getAttribute(\"id\");\r\n        const inputType = el.getAttribute(\"type\");\r\n        let value = el.value;\r\n        value = inputType === \"number\" ? value * 1 : value;\r\n\r\n        formData = { ...formData, [inputElId]: value };\r\n      });\r\n    });\r\n\r\n    farmProfileDetailsForm.querySelectorAll(\".btn-cancel\").forEach((btn) => {\r\n      btn.addEventListener(\"click\", () => {\r\n        btn.closest(\".btns-row\").classList.add(\"hidden\");\r\n      });\r\n    });\r\n\r\n    farmProfileDetailsForm.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n\r\n      const farmProfileData = renameObjectKeys(formData, \"snakeCase\");\r\n\r\n      console.log(farmProfileData);\r\n\r\n      post({\r\n        url: `farmProduce/farm-profile/${farmId}`,\r\n        data: farmProfileData,\r\n        loadingMessage: \"Updating details\",\r\n        successMessage: \"Details updated\",\r\n      });\r\n    });\r\n  }\r\n\r\n  function renderProfileDetails(profileData) {\r\n    const {\r\n      farm_id: farmId,\r\n      farmer_name: farmerName,\r\n      coffee_variety: coffeeVariety,\r\n      farm_size: farmSize,\r\n      number_of_coffee_trees: numberOfCoffeeTrees,\r\n      expected_yearly_yield: expectedYearlyYield,\r\n      coffee_price_per_kg: coffeePricePerKg,\r\n    } = profileData;\r\n\r\n    const formData = renameObjectKeys(profileData, \"camelCase\");\r\n\r\n    const inputEls = document\r\n      .querySelector(\".form--farm-profile\")\r\n      .querySelectorAll(\"input\");\r\n\r\n    console.log(inputEls);\r\n    inputEls.forEach((el) => {\r\n      const inputElId = el.getAttribute(\"id\");\r\n      console.log(inputElId);\r\n      console.log(formData);\r\n      el.value = formData[inputElId];\r\n    });\r\n  }\r\n  function renameObjectKeys(oldObject, namingConvention) {\r\n    const newObject = {};\r\n    if (Object.keys(oldObject).length > 0) {\r\n      for (const key in oldObject) {\r\n        let newKey;\r\n        if (namingConvention === \"camelCase\") {\r\n          newKey = key.replace(/_([a-z])/g, function (match, letter) {\r\n            return letter.toUpperCase();\r\n          });\r\n        }\r\n        if (namingConvention === \"snakeCase\") {\r\n          newKey = key.replace(/[A-Z]/g, function (match) {\r\n            return \"_\" + match.toLowerCase();\r\n          });\r\n        }\r\n\r\n        newObject[newKey] = oldObject[key];\r\n      }\r\n    }\r\n    return newObject;\r\n  }\r\n}\r\n","import { get } from \"./crudOperations.js\";\r\n\r\nexport async function handleFertilizerApplicationGuidePage() {\r\n  let isLoading = true;\r\n  let fertilizers = [];\r\n\r\n  const goBackToFarmGuideMenuBtn = document.querySelector(\r\n    \".btn-open-farm-guide-menu\"\r\n  );\r\n\r\n  goBackToFarmGuideMenuBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    window.location.replace(\"/farm-guide\");\r\n  });\r\n\r\n  function toggleLoading(isLoading) {\r\n    if (isLoading) {\r\n      document.querySelector(\".row-instructions\").classList.add(\"loading\");\r\n      document.querySelector(\".row-fertilizers\").classList.add(\"loading\");\r\n    } else {\r\n      document.querySelector(\".row-instructions\").classList.remove(\"loading\");\r\n      document.querySelector(\".row-fertilizers\").classList.remove(\"loading\");\r\n    }\r\n  }\r\n\r\n  toggleLoading(isLoading);\r\n\r\n  get({\r\n    url: \"farmGuide/fertilizer-application\",\r\n  }).then((result) => {\r\n    if (result.status === \"success\") {\r\n      isLoading = false;\r\n      fertilizers = result.data;\r\n      const fertilizerList = fertilizers.map((fertilizer) => ({\r\n        id: fertilizer.fertilizer_id,\r\n        name: fertilizer.fertilizer_name,\r\n        nutrient: fertilizer.fertilizer_name,\r\n      }));\r\n\r\n      console.log(fertilizers);\r\n      renderFertilizerApplicationInstructions(fertilizers[0]);\r\n      renderFertilizerList(fertilizerList, fertilizers);\r\n      toggleLoading(isLoading);\r\n    } else {\r\n      console.log(result);\r\n    }\r\n  });\r\n\r\n  function handleFertilizerList(fertilizers) {\r\n    const fertilizerListEls = document.querySelectorAll(\".fertilizer\");\r\n    console.log(fertilizerListEls);\r\n\r\n    fertilizerListEls.forEach((item) => {\r\n      item.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        const selectedFertilizerId = item.getAttribute(\"id\") * 1;\r\n        fertilizerListEls.forEach((el) => {\r\n          el.classList.remove(\"active\");\r\n        });\r\n        item.classList.add(\"active\");\r\n\r\n        const fertilizer = fertilizers.find(\r\n          (item) => item.fertilizer_id === selectedFertilizerId\r\n        );\r\n\r\n        console.log(fertilizer);\r\n        renderFertilizerApplicationInstructions(fertilizer);\r\n      });\r\n    });\r\n  }\r\n\r\n  function renderFertilizerList(fertilizerList, fertilizers) {\r\n    let markup = ``;\r\n    fertilizerList.forEach((fertilizer, index) => {\r\n      console.log(index);\r\n      markup += `\r\n                <li class=\"fertilizer  ${index === 0 ? \"active\" : \"\"}\" id=${\r\n        fertilizer.id\r\n      } >\r\n                  <span class=\"fertilizer_name\">\r\n                  ${fertilizer.name}\r\n                  </span>\r\n                  <div class=\"flex align-center\">\r\n                    <span class=\"fertilizer_nutrient\"\r\n                      >Nutrient -\r\n                      <span class=\"value\"> ${fertilizer.nutrient} </span>\r\n                    </span>\r\n                \r\n                  </span>\r\n                </div>\r\n                </li>\r\n  `;\r\n    });\r\n\r\n    document.querySelector(\".list-fertilizers\").innerHTML = \"\";\r\n    document\r\n      .querySelector(\".list-fertilizers\")\r\n      .insertAdjacentHTML(\"afterbegin\", markup);\r\n\r\n    handleFertilizerList(fertilizers);\r\n  }\r\n\r\n  function renderFertilizerApplicationInstructions(fertilizer) {\r\n    const {\r\n      fertilizer_name: name,\r\n      amount_per_tree: amountPerTree,\r\n      application_procedure: applicationProcedure,\r\n      required_tools: tools,\r\n    } = fertilizer;\r\n\r\n    const markup = `\r\n                  <div class=\"flex flex-dc gap-sm\">\r\n                    <p class=\"instruction_detail\">\r\n                      <span> Fertilizer - </span>\r\n                      <span>${name} </span>\r\n                    </p>\r\n                    <p class=\"instruction_detail\">\r\n                      <span>Amount per tree - </span>\r\n                      <span> ${amountPerTree} </span>\r\n                    </p>\r\n                    <p class=\"instruction_detail\">\r\n                      <span> Tools - </span>\r\n                      <span>${tools.map((tool) => tool).join(\"\")}</span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div class=\"instruction_detail instruction_detail-procedure\">\r\n                    <h4>Application Procedure</h4>\r\n                    ${applicationProcedure\r\n                      .map((step) => {\r\n                        const stepMarkup = `<p>${step}</p>`;\r\n                        return stepMarkup;\r\n                      })\r\n                      .join(\"\")}\r\n                  </div>\r\n               \r\n\r\n`;\r\n    document.querySelector(\".fertilizer-instructions_text\").innerHTML = \"\";\r\n    document\r\n      .querySelector(\".fertilizer-instructions_text\")\r\n      .insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n}\r\n","import { get, post } from \"./crudOperations.js\";\r\nimport { toggleLoading } from \"./pestManagement.js\";\r\n\r\nexport function handleFinancesPage() {\r\n  const toggleExpenseDetailsBtns = document.querySelectorAll(\r\n    \".btn-toggle--expense-details\"\r\n  );\r\n  const expensesSectionEl = document.querySelector(\".section-expenses\");\r\n\r\n  let financesData = JSON.parse(\r\n    expensesSectionEl.getAttribute(\"data-financesData\")\r\n  );\r\n\r\n  const { expenses, budget } = financesData;\r\n\r\n  console.log(financesData);\r\n\r\n  function toggleExpenseDetails() {\r\n    toggleExpenseDetailsBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        console.log(\"clicked\");\r\n\r\n        if (btn.style.transform.includes(\"rotate(180deg)\")) {\r\n          btn.style.transform = \"\";\r\n        } else {\r\n          btn.style.transform = \"rotate(180deg)\";\r\n        }\r\n\r\n        const expenseParentEl = btn.closest(\".expense\");\r\n        const expenseBodyEl = expenseParentEl.querySelector(\".expense_body\");\r\n\r\n        expenseBodyEl.classList.toggle(\"hidden\");\r\n      });\r\n    });\r\n  }\r\n\r\n  async function renderFinancesOverview() {\r\n    let isLoading = true;\r\n\r\n    const elementsWaitingForData = [\".row-widgets\"];\r\n\r\n    toggleLoading(isLoading, elementsWaitingForData);\r\n\r\n    function createFinancesOverviewMarkup(financesData) {\r\n      const {\r\n        total_revenue: income = 0,\r\n        total_expenses: expensesTotal = 0,\r\n        profit = 0,\r\n        budget_amount: budgetAmount = 0,\r\n        budget_remaining: remainingBudgetAmount = 0,\r\n      } = financesData || {};\r\n\r\n      const markup = `\r\n      <h2 class=\"heading-secondary\">Overview</h2>\r\n\r\n      <div class=\"row row-widgets\">\r\n                <div class=\"widget widget--income\">\r\n                  <span class=\"widget-label\">Income</span>\r\n                  <div class=\"widget-details\">\r\n                    <span class=\"widget-value\">${formatCurrency(income)}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"widget widget--expenses\">\r\n                  <span class=\"widget-label\">Expenses</span>\r\n                  <div class=\"widget-details\">\r\n                    <span class=\"widget-value\"> ${formatCurrency(\r\n                      expensesTotal\r\n                    )}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"widget widget--profit\">\r\n                  <span class=\"widget-label\">Profit</span>\r\n                  <div class=\"widget-details\">\r\n                    <span class=\"widget-value\">${formatCurrency(profit)}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"widget widget--budget\">\r\n                  <span class=\"widget-label\">Budget</span>\r\n                  <div class=\"widget-details\">\r\n                    <span class=\"widget-value\">Yearly budget: ${formatCurrency(\r\n                      budgetAmount\r\n                    )}</span>\r\n                    <span class=\"widget-value\"\r\n                      >Remaining Amount: ${formatCurrency(\r\n                        remainingBudgetAmount\r\n                      )}</span\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>`;\r\n\r\n      return markup;\r\n    }\r\n\r\n    get({ url: \"farmProduce/finances-overview\" }).then((result) => {\r\n      if (result.status === \"success\") {\r\n        isLoading = false;\r\n        const financesData = result.data[0];\r\n        const financesOverviewMarkup =\r\n          createFinancesOverviewMarkup(financesData);\r\n\r\n        document.querySelector(\".section--overview\").innerHTML = \"\";\r\n        document\r\n          .querySelector(\".section--overview\")\r\n          .insertAdjacentHTML(\"afterbegin\", financesOverviewMarkup);\r\n\r\n        toggleLoading(isLoading, elementsWaitingForData);\r\n      }\r\n    });\r\n  }\r\n\r\n  renderFinancesOverview();\r\n\r\n  function formatCurrency(number) {\r\n    return new Intl.NumberFormat(\"ke-KE\", {\r\n      style: \"currency\",\r\n      currency: \"KSH\",\r\n    }).format(number);\r\n  }\r\n\r\n  function renderIncomeDetails() {\r\n    let isLoading = true;\r\n    const elementsWaitingForData = [\".row-income\"];\r\n\r\n    toggleLoading(isLoading, elementsWaitingForData);\r\n\r\n    function createIncomeDetailsMarkup(incomeData) {\r\n      const {\r\n        total_harvest_amount_kg: totalYield = 0,\r\n        coffee_price_per_kg: pricePerKg = 0,\r\n        total_revenue: expectedRevenue = 0,\r\n      } = incomeData || {};\r\n\r\n      const markup = `\r\n      <h3 class=\"sub-heading\">Coffee Sales</h3>\r\n                <div class=\"sales-details\">\r\n                  <div class=\"sales-detail sales-detail--price\">\r\n                    <span class=\"label label-price\">Price per Kg</span>\r\n                    <span class=\"value value-price\">${formatCurrency(\r\n                      pricePerKg\r\n                    )}</span>\r\n                  </div>\r\n\r\n                  <div class=\"sales-detail sales-detail--yield\">\r\n                    <span class=\"label label-yield\">Total Yield</span>\r\n                    <span class=\"value value-yield\">${totalYield} Kg</span>\r\n                  </div>\r\n\r\n                  <div class=\"sales-detail sales-detail--amount\">\r\n                    <span class=\"label label-amount\">Expected revenue</span>\r\n                    <span class=\"value value-amount\">${formatCurrency(\r\n                      expectedRevenue\r\n                    )}</span>\r\n                  </div>\r\n      \r\n      `;\r\n\r\n      return markup;\r\n    }\r\n\r\n    get({ url: \"farmProduce/income\" }).then((result) => {\r\n      if (result.status === \"success\") {\r\n        isLoading = false;\r\n        const incomeData = result.data[0];\r\n        const incomeDetailsMarkup = createIncomeDetailsMarkup(incomeData);\r\n\r\n        document.querySelector(\".row-income\").innerHTML = \"\";\r\n        document\r\n          .querySelector(\".row-income\")\r\n          .insertAdjacentHTML(\"afterbegin\", incomeDetailsMarkup);\r\n\r\n        toggleLoading(isLoading, elementsWaitingForData);\r\n      }\r\n    });\r\n  }\r\n\r\n  renderIncomeDetails();\r\n\r\n  async function renderBugdetChart() {\r\n    const budgetSection = document.querySelector(\".section-budget\");\r\n    let expenseTotals = [];\r\n    const expenseWidgetEls = document.querySelectorAll(\".expense\");\r\n\r\n    function showExpenseBudgetStatus(budget) {\r\n      expenseWidgetEls.forEach((el) => {\r\n        const exepenseType = el.getAttribute(\"data-expense-type\");\r\n        const expenseTotal = parseFloat(\r\n          el\r\n            .querySelector(\".expense_cost-value\")\r\n            .getAttribute(\"data-expense-total\")\r\n        );\r\n\r\n        if (budget[exepenseType]) {\r\n          if (budget[exepenseType] < expenseTotal) {\r\n            const amountOverBudget = expenseTotal - budget[exepenseType];\r\n            el.querySelector(\r\n              \".expense_status\"\r\n            ).textContent = `Over-Budget -- ${formatCurrency(\r\n              amountOverBudget\r\n            )}`;\r\n            el.querySelector(\".expense_status\").classList.add(\r\n              \"expense_status--over-budget\"\r\n            );\r\n          } else {\r\n            el.querySelector(\".expense_status\").textContent = \"On-Budget\";\r\n            el.querySelector(\".expense_status\").classList.add(\r\n              \"expense_status--on-budget\"\r\n            );\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    get({ url: \"expenses/budget\" }).then((result) => {\r\n      if (result.status === \"success\") {\r\n        const budget = result.data[0] ?? {};\r\n\r\n        const {\r\n          fertilizer = 0,\r\n          labour = 0,\r\n          pesticide = 0,\r\n          miscelleneous = 0,\r\n        } = budget || {};\r\n\r\n        const budgetChartData = [fertilizer, labour, pesticide, miscelleneous];\r\n\r\n        const isGreaterThanOne = (currentValue) => currentValue < 1;\r\n\r\n        const isCreateMode = Object.keys(budget)\r\n          .map((key) => budget[key])\r\n          .every(isGreaterThanOne);\r\n\r\n        if (!isCreateMode) {\r\n          const budgetForm = document.querySelector(\".form--budget\");\r\n          budgetForm.setAttribute(\"data-is-edit-mode\", true);\r\n          budgetForm.querySelector(\"h2\").textContent = \"Edit budget\";\r\n\r\n          document.querySelector(\".btn-open-budget-form\").textContent =\r\n            \"Edit budget\";\r\n        }\r\n\r\n        showExpenseBudgetStatus(budget);\r\n        populateBudgetForm(budget);\r\n\r\n        const ctx = document.getElementById(\"myChart\");\r\n        new Chart(ctx, {\r\n          type: \"doughnut\",\r\n          data: {\r\n            labels: [\"Fertilizer\", \"Labour\", \"Pesticides\", \"Miscellaneous\"],\r\n            datasets: [\r\n              {\r\n                label: \"Allocated amount\",\r\n                data: budgetChartData,\r\n                borderWidth: 1,\r\n              },\r\n            ],\r\n          },\r\n          options: {\r\n            plugins: {\r\n              legend: {\r\n                position: \"right\",\r\n              },\r\n            },\r\n            // scales: {\r\n            //   y: {\r\n            //     beginAtZero: true,\r\n            //   },\r\n            // },\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  renderBugdetChart();\r\n\r\n  function populateBudgetForm(budget) {\r\n    const inputEls = document.querySelectorAll(\".input\");\r\n    console.log(budget);\r\n\r\n    inputEls.forEach((el) => {\r\n      const key = el.getAttribute(\"id\");\r\n      console.log(key);\r\n      el.value = budget[key] ?? 0;\r\n    });\r\n  }\r\n\r\n  function handleEditCreateBudget() {\r\n    const budgetDialog = document.querySelector(\".dialog-budget\");\r\n    const budgetForm = document.querySelector(\".form--budget\");\r\n    const inputEls = document.querySelectorAll(\".input\");\r\n    const openBudgetDialogBtn = document.querySelector(\".btn-open-budget-form\");\r\n\r\n    const closeDialogBtns = document.querySelectorAll(\".btn-close-modal\");\r\n    console.log(closeDialogBtns);\r\n\r\n    const isEditMode = budgetForm.getAttribute(\"data-is-edit-mode\");\r\n\r\n    console.log(isEditMode);\r\n\r\n    closeDialogBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        btn.closest(\"dialog\").close();\r\n      });\r\n    });\r\n\r\n    openBudgetDialogBtn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      budgetDialog.showModal();\r\n    });\r\n\r\n    let formData = {};\r\n    inputEls.forEach((el) => {\r\n      el.addEventListener(\"change\", (e) => {\r\n        const key = el.getAttribute(\"id\");\r\n        const type = el.getAttribute(\"type\");\r\n        const value = type === \"number\" ? parseFloat(e.target.value) : value;\r\n\r\n        formData[key] = value;\r\n      });\r\n    });\r\n\r\n    budgetForm.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n\r\n      const req = {\r\n        url: \"expenses/budget\",\r\n        data: formData,\r\n        loadingMessage: \"Creating budget...\",\r\n        successMessage: \"Budget created successfully\",\r\n      };\r\n\r\n      post(req);\r\n      console.log(formData);\r\n    });\r\n  }\r\n\r\n  handleEditCreateBudget(budget);\r\n\r\n  toggleExpenseDetails();\r\n}\r\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"/__parcel_source_root/"}